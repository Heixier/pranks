(()=>{"use strict";var e={306:(e,t,n)=>{n.r(t),n.d(t,{LightDMMessageType:()=>l,LightDMPromptType:()=>d,_ready_event:()=>r,greeter_comm:()=>a,greeter_config:()=>s,lightdm:()=>i,theme_utils:()=>o});const i=window.lightdm,s=window.greeter_config,o=window.theme_utils,a=window.greeter_comm,r=window._ready_event,d={Question:0,Secret:1},l={Info:0,Error:1}},915:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Authenticator=void 0;const i=n(306);class s{constructor(){this._authenticating=!1,this._authenticated=!1,this._authEvents=null,this._username="",this._password="",this._session="ubuntu",this._initLightDMListeners()}_initLightDMListeners(){i.lightdm.show_prompt.connect(((e,t)=>{try{switch(t){case i.LightDMPromptType.Question:console.log("LightDM requested username, responding..."),i.lightdm.respond(this._username);break;case i.LightDMPromptType.Secret:console.log("LightDM requested password, responding..."),i.lightdm.respond(this._password);break;default:console.error(`Unknown lightDM prompt type: ${t}`)}}catch(e){console.error(e),this._authEvents&&this._authEvents.errorMessage(String(e))}})),i.lightdm.show_message.connect(((e,t)=>{try{switch(t){case i.LightDMMessageType.Info:console.log(`LightDM info message: ${e}`),this._authEvents&&this._authEvents.infoMessage(e);break;case i.LightDMMessageType.Error:console.error(`LightDM error message: ${e}`),this._authEvents&&this._authEvents.errorMessage(e);break;default:console.warn(`Unknown lightDM message type: ${t}, message: ${e}`)}}catch(e){console.error(e),this._authEvents&&this._authEvents.errorMessage(String(e))}})),i.lightdm.authentication_complete.connect((()=>{var e;try{this._authenticating=!1,console.log("LightDM authentication complete. Checking results..."),i.lightdm.is_authenticated?(this._authenticated=!0,console.log("LightDM authentication successful! Starting session..."),this._authEvents&&this._authEvents.authenticationComplete(),i.lightdm.start_session(null!==(e=this._session)&&void 0!==e?e:null)):(console.log("LightDM authentication failed. User not found or password incorrect."),this._stopAuthentication(),this._authEvents&&this._authEvents.authenticationFailure())}catch(e){console.error(e),this._authEvents&&this._authEvents.errorMessage(String(e))}}))}get authenticating(){return this._authenticating}get authenticated(){return this._authenticated}get username(){return this._username}set authEvents(e){this._authEvents=e}_clearAuth(){this._username="",this._password=""}_stopAuthentication(){i.lightdm.cancel_authentication(),this._authenticating=!1,this._authenticated=!1,this._clearAuth()}_startAuthentication(){try{console.log("Starting LightDM authentication..."),i.lightdm.cancel_authentication(),this._authenticating=!0,i.lightdm.authenticate(this._username)}catch(e){console.error(e),this._authEvents&&this._authEvents.errorMessage(String(e))}}login(e,t){this._username=e.substring(0,s.MAX_LEN_USERNAME).trim(),this._password=t.substring(0,s.MAX_LEN_PASSWORD),this._authenticating||this._authenticated?console.warn("Login() was called while already authenticating or authenticated. Stopping authentication."):""!==this._username&&""!==this._password?(this._authEvents&&this._authEvents.authenticationStart(),this._startAuthentication()):console.log("Login() was called while username or password is empty. Stopping authentication.")}}t.Authenticator=s,s.MAX_LEN_USERNAME=32,s.MAX_LEN_PASSWORD=128},397:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Data=t.GreeterImage=void 0;const s=i(n(330)),o=n(306);class a{constructor(e){var t;this._path=e;const n=this._path.split("/").slice(0,-1).join("/"),i=null===(t=window.theme_utils)||void 0===t?void 0:t.dirlist_sync(n,!1);this._exists=void 0!==i&&i.includes(this._path),this._exists?console.log(`Found image at "${this._path}"`):console.warn("Wallpaper file does not exist: "+this._path)}get path(){return this._path}get exists(){return this._exists}}t.GreeterImage=a,t.Data=class{constructor(){this._dataJsonFetchInterval=6e4,this._dataChangeListeners=[],this.pkgName=s.default.name,this.pkgVersion=s.default.version,this.hostname=o.lightdm.hostname,this.loginScreenWallpaper=new a("/usr/share/codam/web-greeter/login-screen.png"),this.userLockScreenWallpaper=new a("/tmp/codam-web-greeter-user-wallpaper"),this.examLockScreenWallpaper=new a("/usr/share/codam/web-greeter/exam-wallpaper.png"),this.examStripe=new a("/usr/share/codam/web-greeter/exam-stripe.png"),this.logo=new a("/usr/share/codam/web-greeter/logo.png"),this.userImage=new a("/tmp/codam-web-greeter-user-avatar"),this.userDefaultImage=new a("/usr/share/codam/web-greeter/user.png"),setInterval((()=>this._refetchDataJson()),this._dataJsonFetchInterval),this._refetchDataJson()}static examToEvent(e){const t=`For ${e.projects.map((e=>e.name)).join(", ")}`;return{id:e.id,name:e.name,description:t,location:e.location,kind:"exam",max_people:e.max_people,nbr_subscribers:e.nbr_subscribers,begin_at:e.begin_at,end_at:e.end_at,campus_ids:[],cursus_ids:e.cursus.map((e=>e.id)),created_at:e.created_at,updated_at:e.updated_at}}addDataChangeListener(e){this._dataChangeListeners.push(e)}removeDataChangeListener(e){this._dataChangeListeners=this._dataChangeListeners.filter((t=>t!==e))}get dataJson(){return this._dataJson}_refetchDataJson(){fetch("data.json").then((e=>e.json())).then((e=>{if(console.log("Fetched data.json",e),"error"in e)return console.warn("data.json response contains an error",e),void window.ui.setDebugInfo(`data.json response contains an error: ${e.error}`);"message"in e||(e.message=""),this._dataJson=e;for(const e of this._dataChangeListeners)e(this._dataJson)})).catch((e=>{window.ui&&window.ui.setDebugInfo(`Error fetching data.json: ${e}`)}))}}},877:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Idler=void 0,t.Idler=class{constructor(e=!1){this._idle=!1,this._lastActivity=Date.now(),this._idleAfter=3e5,this._takeActionAfter=252e4,this._isLockScreen=e,window.addEventListener("keydown",this._unidle.bind(this)),window.addEventListener("mousemove",this._unidle.bind(this)),window.addEventListener("mousedown",this._unidle.bind(this)),setInterval(this._checkIdle.bind(this),1e3)}get idleAfter(){return this._idleAfter}get idle(){return this._idle}_unidle(){this._lastActivity=Date.now(),this._idle=!1}_action(){}_checkIfActionNeeded(){return!!(this._idle&&Date.now()-this._lastActivity>=this._takeActionAfter)&&(this._action(),!0)}_checkIdle(){return this._idle?(this._checkIfActionNeeded(),!0):Date.now()-this._lastActivity>=this._idleAfter&&(this._idle=!0,console.log("Now idling..."),this._checkIfActionNeeded(),!0)}}},80:function(e,t,n){var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))((function(s,o){function a(e){try{d(i.next(e))}catch(e){o(e)}}function r(e){try{d(i.throw(e))}catch(e){o(e)}}function d(e){var t;e.done?s(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,r)}d((i=i.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(397),o=n(455),a=n(915),r=n(877);window.sleep=function(e){return i(this,void 0,void 0,(function*(){return new Promise((t=>{setTimeout(t,e)}))}))},window.restartComputer=()=>{var e,t;try{return(null===(e=window.lightdm)||void 0===e?void 0:e.can_restart)?(null===(t=window.lightdm)||void 0===t||t.restart(),!0):(window.ui.setDebugInfo("Rebooting failed: lightdm.can_restart is false"),!1)}catch(e){return window.ui.setDebugInfo(`Rebooting failed: ${e}`),!1}},window.brightness={decrease:()=>{var e,t;(null===(e=window.lightdm)||void 0===e?void 0:e.can_access_brightness)?null===(t=window.lightdm)||void 0===t||t.brightness_decrease(10):window.ui.setDebugInfo("Brightness control failed: lightdm.can_access_brightness is false")},increase:()=>{var e,t;(null===(e=window.lightdm)||void 0===e?void 0:e.can_access_brightness)?null===(t=window.lightdm)||void 0===t||t.brightness_increase(10):window.ui.setDebugInfo("Brightness control failed: lightdm.can_access_brightness is false")}},window.addEventListener("GreeterReady",(()=>{!function(){i(this,void 0,void 0,(function*(){window.data=new s.Data,window.auth=new a.Authenticator,window.ui=new o.UI(window.data,window.auth),window.idler=new r.Idler(window.ui.isLockScreen),window.debugKeys=!1,document.addEventListener("keydown",(e=>{var t,n;const i="INPUT"===(null===(t=document.activeElement)||void 0===t?void 0:t.tagName)&&"password"===(null===(n=document.activeElement)||void 0===n?void 0:n.getAttribute("type"));if(window.debugKeys&&!i&&window.ui.setDebugInfo(`Key pressed: ${e.code} (${e.key})${e.ctrlKey?" + Ctrl":""}${e.altKey?" + Alt":""}${e.shiftKey?" + Shift":""}${e.metaKey?" + Meta":""}`),e.ctrlKey&&e.altKey)switch(e.key){case"Delete":window.debugKeys&&(window.ui.setDebugInfo("Reboot requested through LightDM"),window.restartComputer());break;case"e":window.debugKeys&&(window.ui.setDebugInfo("Exam mode override enabled"),window.ui.overrideExamMode());break;case"d":window.debugKeys=!window.debugKeys,window.ui.setDebugInfo("Debug keys: "+(window.debugKeys?"enabled":"disabled"));break;case"l":return void window.debugKeys}else switch(e.key){case"BrightnessDown":case"F1":case"F14":window.brightness.decrease();break;case"BrightnessUp":case"F2":case"F15":window.brightness.increase()}}))}))}()}))},455:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UI=void 0;const i=n(703),s=n(828),o=n(622),a=n(306),r=n(335),d=n(495),l=n(100);class c{constructor(e,t){this._lockScreen=null,this._loginScreen=null,this._examModeScreen=null,this._isLockScreen=!1,this._examModeDisabled=!1,this._scalingFactor=1,this._infoBars=new i.InfoBarsUI,this._logo=document.getElementById("logo"),this._message=document.getElementById("message"),this.applyHiDpiScaling(),e.logo.exists&&(this._logo.src=e.logo.path);const n=a.lightdm.users.find((e=>e.logged_in));void 0!==n?(this._lockScreen=new s.LockScreenUI(t,n),this._isLockScreen=!0,this._logo.style.display="none",this._lockScreen.showForm()):(this._loginScreen=new o.LoginScreenUI(t),this._examModeScreen=new l.ExamModeUI(t,this._loginScreen),e.addDataChangeListener((e=>{this.checkForExamMode()})),setInterval((()=>{this.checkForExamMode()}),c.EXAM_MODE_CHECK_INTERVAL),this.checkForExamMode()),e.addDataChangeListener((e=>{void 0!==e&&this.setMessage(e.message)})),void 0!==e.dataJson&&this.setMessage(e.dataJson.message),this._wallpaper=new r.WallpaperUI(this._isLockScreen),this._calendar=new d.CalendarUI(e)}get isLockScreen(){return this._isLockScreen}overrideExamMode(){this._examModeDisabled=!0,this.checkForExamMode()}setDebugInfo(e){this._infoBars.setDebugInfo(e)}setMessage(e){e=(e=(e=(e=(e=e.replace(/(<([^>]+)>)/gi,"")).replace(/\n/g,"<br>")).replace(/\*(.*?)\*/g,"<b>$1</b>")).replace(/_(.*?)_/g,"<i>$1</i>")).replace(/  +/g,"&nbsp;&nbsp;"),this._message.innerHTML=e}getMessage(){return this._message.innerText}checkForExamMode(){var e,t,n,i,s,o;if(this.isLockScreen)return!1;if(void 0===window.data.dataJson)return null===(e=this._examModeScreen)||void 0===e||e.hideForm(),null===(t=this._loginScreen)||void 0===t||t.showForm(),!1;const a=window.data.dataJson.exams_for_host.filter((e=>{const t=new Date,n=new Date(e.begin_at),i=new Date(n.getTime()-60*c.SHOW_EXAM_MODE_MINUTES_BEFORE_BEGIN*1e3),s=new Date(e.end_at);return t>=i&&t<s}));return!this._examModeDisabled&&a.length>0?((null===(n=this._examModeScreen)||void 0===n?void 0:n.examMode)&&a.some((e=>{var t;return null===(t=this._examModeScreen)||void 0===t?void 0:t.examIds.includes(e.id)}))||(console.log("Activating exam mode login UI"),null===(i=this._examModeScreen)||void 0===i||i.enableExamMode(a)),!0):((null===(s=this._examModeScreen)||void 0===s?void 0:s.examMode)&&(console.log("Deactivating exam mode login UI"),null===(o=this._examModeScreen)||void 0===o||o.disableExamMode()),!1)}static getPadding(e=document.body){return getComputedStyle(e).getPropertyValue("--padding")}setPrimaryThemeColor(e){const t=document.documentElement;null===e?t.style.setProperty("--color-primary","var(--color-blue)"):t.style.setProperty("--color-primary",e)}getPrimaryThemeColor(){return getComputedStyle(document.documentElement).getPropertyValue("--color-primary")}get scalingFactor(){return this._scalingFactor}applyHiDpiScaling(){if(window.outerWidth>2560||1!=window.devicePixelRatio){const e=window.devicePixelRatio>1?window.devicePixelRatio:1.5;document.body.style.zoom=`${e}`,document.documentElement.style.setProperty("--zoom",`${e}`),this._scalingFactor=e}}}t.UI=c,c.EXAM_MODE_CHECK_INTERVAL=5e3,c.SHOW_EXAM_MODE_MINUTES_BEFORE_BEGIN=20},495:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CalendarUI=void 0;const i=n(397),s=n(455);t.CalendarUI=class{constructor(e){this._calendar=document.getElementById("intra-calendar"),this.populateCalendar(),e.addDataChangeListener(this.populateCalendar.bind(this))}_estimateDuration(e,t){const n=t.getTime()-e.getTime(),i=Math.floor(n/1e3/60/60/24),s=Math.floor(n/1e3/60/60),o=Math.floor(n/1e3/60);return i>1?`${i} days`:s>0?`About ${s} hour${1===s?"":"s"}`:o>0?`About ${o} minute${1===o?"":"s"}`:""}_removeMarkdownSyntax(e){return(e=(e=(e=e.replace(/\*\*(.*?)\*\*/g,"$1")).replace(/\*(.*?)\*/g,"$1")).replace(/\_(.*?)\_/g,"$1")).replace(/\[(.*?)\]\((.*?)\)/g,"$1 ($2)")}_eventFitsOnScreen(e=void 0){const t=window.innerHeight,n=parseInt(getComputedStyle(this._calendar).getPropertyValue("--header-footer-height"))*window.ui.scalingFactor,i=this._calendar.clientHeight*window.ui.scalingFactor,o=78*window.ui.scalingFactor,a=parseInt(s.UI.getPadding(this._calendar))*window.ui.scalingFactor,r=o+a,d=t-i-2*n-2*a;return console.debug("Calculated if event fits on screen","availableWindowHeight",t,"calendarHeight",i,"eventHeight",o,"eventMargin",a,"requiredSpace",r,"spaceLeft",d,"scalingFactor",window.ui.scalingFactor),r<d}populateCalendar(e=window.data.dataJson){if(void 0===e)return void this._destroyAllEvents();const t=[];for(const n of e.events)t.push(this._createEventElement(n));for(const n of e.exams){const e=i.Data.examToEvent(n);t.push(this._createEventElement(e))}t.sort(((e,t)=>{var n,i;return parseInt(null!==(n=e.getAttribute("data-event-timestamp"))&&void 0!==n?n:"0")-parseInt(null!==(i=t.getAttribute("data-event-timestamp"))&&void 0!==i?i:"0")})),this._destroyAllEvents();for(const e of t){if(!this._eventFitsOnScreen(e)){console.log("Event doesn't fit on screen");break}this._calendar.appendChild(e)}}_destroyAllEvents(){const e=this._calendar.getElementsByClassName("calendar-event");for(;e.length>0;)e[0].remove()}_createEventElement(e){var t;const n=new Date(e.begin_at),i=new Date(e.end_at),s=document.createElement("div");s.classList.add("calendar-event"),s.setAttribute("data-event-kind",e.name.toLowerCase().includes("bocal stand-up")?"standup":e.kind),s.setAttribute("data-event-id",e.id.toString()),s.setAttribute("data-event-timestamp",n.getTime().toString());const o=document.createElement("div");o.classList.add("calendar-event-date"),s.appendChild(o);const a=document.createElement("span");a.classList.add("calendar-event-date-day"),a.innerText=n.toLocaleString("en-NL",{weekday:"short"}),o.appendChild(a);const r=document.createElement("span");r.classList.add("calendar-event-date-date"),r.innerText=n.toLocaleString("en-NL",{day:"numeric"}),o.appendChild(r);const d=document.createElement("span");d.classList.add("calendar-event-date-month"),d.innerText=n.toLocaleString("en-NL",{month:"short"}),o.appendChild(d);const l=document.createElement("div");l.classList.add("calendar-event-wrapper"),s.appendChild(l);const c=document.createElement("div");c.classList.add("calendar-event-title"),c.innerText=e.name,l.appendChild(c);const u=document.createElement("div");u.classList.add("calendar-event-description"),u.innerText=this._removeMarkdownSyntax(e.description),l.appendChild(u);const h=document.createElement("div");h.classList.add("calendar-event-details"),l.appendChild(h);const m=document.createElement("span");m.classList.add("calendar-event-time"),m.innerText=n.toLocaleString("en-NL",{timeStyle:"short"}),h.appendChild(m);const g=document.createElement("span");g.classList.add("calendar-event-duration"),g.innerText=this._estimateDuration(n,i),h.appendChild(g);const _=document.createElement("span");_.classList.add("calendar-event-spots"),_.innerText=e.max_people?`${e.nbr_subscribers} / ${e.max_people}`:"",h.appendChild(_);const p=document.createElement("span");return p.classList.add("calendar-event-location"),p.innerText=null!==(t=e.location)&&void 0!==t?t:"",h.appendChild(p),this._addDialogToEvent(s),s}_addDialogToEvent(e){e.addEventListener("click",(()=>{var t;console.log("Clicked event",e);const n=document.createElement("dialog");n.classList.add("calendar-event-dialog"),n.setAttribute("data-event-kind",null!==(t=e.getAttribute("data-event-kind"))&&void 0!==t?t:"event");const i=document.createElement("button");i.classList.add("dialog-close-button"),i.innerHTML="&times;",n.appendChild(i);const s=document.createElement("div");s.classList.add("event-dialog-contents"),n.appendChild(s);for(const t of e.children)s.appendChild(t.cloneNode(!0));s.addEventListener("click",(e=>{e.stopPropagation()})),n.addEventListener("click",(e=>{n.close(),n.remove()})),document.body.appendChild(n),n.showModal()}))}_addDialogToEvents(){const e=this._calendar.getElementsByClassName("calendar-event");for(let t=0;t<e.length;t++){const n=e[t];this._addDialogToEvent(n)}}}},703:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.InfoBarsUI=void 0,t.InfoBarsUI=class{constructor(){this._infoElements={hostname:document.getElementById("info-hostname"),version:document.getElementById("info-version"),clock:document.getElementById("info-clock"),date:document.getElementById("info-date"),networkIcon:document.getElementById("info-network-icon"),debug:document.getElementById("info-debug")},this._populateInfoElements()}setDebugInfo(e){this._infoElements.debug.innerText=e,console.debug("Changed text in debug info: ",e)}_populateInfoElements(){this._infoElements.debug.innerText="",window.addEventListener("error",(e=>{this._infoElements.debug.innerText+=e.error+"\n"})),this._infoElements.version.innerText=window.data.pkgName+" v"+window.data.pkgVersion,this._infoElements.hostname.innerText=window.data.hostname,this._updateClock(),setInterval((()=>this._updateClock()),1e3),this._infoElements.networkIcon.innerHTML=navigator.onLine?"&#128423;":"",window.addEventListener("online",(()=>this._infoElements.networkIcon.innerHTML="&#128423;")),window.addEventListener("offline",(()=>this._infoElements.networkIcon.innerHTML=""))}_updateClock(){const e=new Date;this._infoElements.date.innerText=e.toLocaleString("en-NL",{dateStyle:"medium"}),this._infoElements.clock.innerText=e.toLocaleString("en-NL",{timeStyle:"medium"})}}},69:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.UIScreen=void 0,t.UIScreen=class{constructor(e){this._formShown=!1,this._auth=e}_connectEvents(){this._auth.authEvents=this._events}_disconnectEvents(){this._auth.authEvents=null}showForm(){if(!this._formShown){this._formShown=!0,this._form.form.style.display="block";const e=this._getInputToFocusOn();null!==e&&e.focus(),this._connectEvents()}}hideForm(){this._formShown&&(this._formShown=!1,this._form.form.style.display="none",this._disconnectEvents())}get formShown(){return this._formShown}_disableForm(){for(const e of Object.values(this._form))"disabled"in e&&"boolean"==typeof e.disabled&&(e.disabled=!0);document.activeElement&&document.activeElement.blur()}_enableForm(e=null){for(const e of Object.values(this._form))"disabled"in e&&"boolean"==typeof e.disabled&&(e.disabled=!1);null!==e&&e.focus()}}},100:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ExamModeUI=void 0;const i=n(69);class s extends i.UIScreen{constructor(e,t){super(e),this._examMode=!1,this._examIds=[],this._events={authenticationStart:()=>{this._disableForm()},authenticationComplete:()=>{},authenticationFailure:()=>{this._enableForm(),this._wigglePasswordInput()},errorMessage:e=>{alert(e),window.ui.setDebugInfo(e)},infoMessage:e=>{alert(e)}},this._loginScreen=t,this._form={form:document.getElementById("exam-form"),examProjectsText:document.getElementById("exam-mode-projects"),examStartText:document.getElementById("exam-mode-start"),examEndText:document.getElementById("exam-mode-end"),loginInput:document.getElementById("exam-login"),passwordInput:document.getElementById("exam-password"),examStartButton:document.getElementById("exam-mode-start-button")},this._initForm()}enableExamMode(e){if(0!==e.length){if(window.data.examLockScreenWallpaper){let e=window.data.examLockScreenWallpaper,t=window.data.examStripe;e.exists&&(document.body.style.backgroundImage='url("'+e.path+'")');let n=document.getElementById("intra-calendar");if(n&&(n.style.display="none"),t.exists){let e=document.getElementById("top-stripe"),n=document.getElementById("bottom-stripe");e&&n&&(e.style.background='url("'+t.path+'") repeat-x',n.style.background='url("'+t.path+'") repeat-x',e.style.backgroundSize="150px",n.style.backgroundSize="150px")}}this._examMode=!0,this._examIds=e.map((e=>e.id)),this._populateData(e),this._loginScreen.hideForm(),this.showForm()}}disableExamMode(){let e=window.data.loginScreenWallpaper;e.exists?document.body.style.backgroundImage='url("'+e.path+'")':(document.body.style.backgroundColor="black",document.body.style.backgroundImage="none");let t=document.getElementById("intra-calendar");t&&t.style.removeProperty("display"),this._examMode=!1,this._examIds=[],this._populateData([]),this.hideForm(),this._loginScreen.showForm()}get examMode(){return this._examMode}get examIds(){return this._examIds}_initForm(){const e=this._form;e.examStartButton.addEventListener("click",(t=>{t.preventDefault(),this._examMode&&(e.loginInput.value===s.EXAM_USERNAME&&e.passwordInput.value===s.EXAM_PASSWORD?this._auth.login(s.EXAM_USERNAME,s.EXAM_PASSWORD):this._wigglePasswordInput())})),e.loginInput.addEventListener("input",(()=>{this._enableOrDisableSubmitButton()})),e.passwordInput.addEventListener("input",(()=>{this._enableOrDisableSubmitButton()}))}_populateData(e){var t;const n=this._form;if(0===e.length)n.examProjectsText.innerText="",n.examStartText.innerText="unknown",n.examEndText.innerText="unknown";else{const i=null===(t=window.data.dataJson)||void 0===t?void 0:t.exams.filter((t=>e.some((e=>t.id===e.id))));if(void 0===i)return console.error("Failed to find exams in data.json"),void window.ui.setDebugInfo("Failed to find exams in data.json");const s=i.reduce(((e,t)=>{const n=new Date(t.begin_at);return null===e||n<e?n:e}),new Date(i[0].begin_at)),o=i.reduce(((e,t)=>{const n=new Date(t.end_at);return null===e||n>e?n:e}),new Date(i[0].end_at)),a=i.flatMap((e=>e.projects.map((e=>e.name)))).join(", ");n.examProjectsText.innerText=a,n.examStartText.innerText=s.toLocaleTimeString("en-NL",{hour:"2-digit",minute:"2-digit"}),n.examEndText.innerText=o.toLocaleTimeString("en-NL",{hour:"2-digit",minute:"2-digit"})}}_enableOrDisableSubmitButton(){return this._form.examStartButton.disabled=!1,!1}_wigglePasswordInput(e=!0){const t=this._form.passwordInput;t.classList.add("wiggle"),t.addEventListener("keydown",(()=>{t.classList.remove("wiggle")}),{once:!0}),e&&(t.value="",t.focus(),this._enableOrDisableSubmitButton())}_getInputToFocusOn(){return null}}t.ExamModeUI=s,s.EXAM_USERNAME="exam",s.EXAM_PASSWORD="exam"},828:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LockScreenUI=void 0;const i=n(69),s=n(455);class o extends i.UIScreen{constructor(e,t){super(e),this._isExamMode=!1,this._lockedTime=null,this._events={authenticationStart:()=>{this._disableForm()},authenticationComplete:()=>{},authenticationFailure:()=>{this._enableForm(),this._wigglePasswordInput()},errorMessage:e=>{alert(e),window.ui.setDebugInfo(e)},infoMessage:e=>{alert(e)}},this._activeSession=t,this._form={form:document.getElementById("lock-form"),avatar:document.getElementById("active-user-session-avatar"),displayName:document.getElementById("active-user-session-display-name"),loginName:document.getElementById("active-user-session-login-name"),lockedTimeAgo:document.getElementById("active-user-session-locked-ago"),passwordInput:document.getElementById("active-user-session-password"),unlockButton:document.getElementById("unlock-button")},this._initForm(),setInterval(this._getAndSetLockedTimestamp.bind(this),6e4),this._getAndSetLockedTimestamp()}_initForm(){var e;const t=this._form;"exam"===this._activeSession.username?(this._isExamMode=!0,t.avatar.style.display="none",t.displayName.innerText="Exam in progress",t.loginName.innerText="Click the arrow below to resume your exam.",t.loginName.style.marginTop=s.UI.getPadding(),t.passwordInput.value="exam",t.passwordInput.style.display="none",this._enableOrDisableSubmitButton()):(t.avatar.addEventListener("error",(()=>{console.warn(`Failed to load avatar for user ${this._activeSession.username}`),t.avatar.src="assets/default-user.png"})),window.data.userImage.exists?t.avatar.src=window.data.userImage.path:this._activeSession.image?t.avatar.src=this._activeSession.image:window.data.userDefaultImage.exists&&(t.avatar.src=window.data.userDefaultImage.path),t.displayName.innerText=null!==(e=this._activeSession.display_name)&&void 0!==e?e:this._activeSession.username,t.loginName.innerText=this._activeSession.username),setInterval(this._lockedTimer.bind(this),1e4),t.form.addEventListener("submit",(e=>{e.preventDefault(),this._auth.login(this._activeSession.username,t.passwordInput.value)})),t.passwordInput.addEventListener("input",(()=>{this._enableOrDisableSubmitButton()}))}_enableOrDisableSubmitButton(){const e=this._form,t=""===e.passwordInput.value&&!1===this._isExamMode;return e.unlockButton.disabled=t,t}_wigglePasswordInput(e=!0){const t=this._form.passwordInput;t.classList.add("wiggle"),t.addEventListener("keydown",(()=>{t.classList.remove("wiggle")}),{once:!0}),e&&(t.value="",t.focus(),this._enableOrDisableSubmitButton())}_getInputToFocusOn(){return this._form.passwordInput}get lockedTime(){return this._lockedTime}_getScreenLockedTimestamp(e){return new Promise(((t,n)=>{fetch(`/tmp/codam_web_greeter_lock_timestamp_${e}`).then((e=>e.text())).then((e=>{const n=e.split(" ")[0];t(new Date(1e3*parseInt(n)))})).catch((()=>{n()}))}))}_getAndSetLockedTimestamp(){this._getScreenLockedTimestamp(this._activeSession.username).then((e=>{this._lockedTime=e,this._lockedTimer()})).catch((()=>{this._lockedTime=null}))}_lockedTimer(){if(!this._lockedTime)return;const e=42-(Date.now()-this._lockedTime.getTime())/1e3/60;if(e<=.25)this._disableForm(),this._form.lockedTimeAgo.innerText="Automated logout in progress...",e<-5&&(window.ui.setDebugInfo("Automated logout appears to take a while. Is the systemd idling service from codam-web-greeter installed and enabled?"),this._enableForm());else{const t=Math.floor(e);this._form.lockedTimeAgo.innerText="Automated logout occurs in "+t.toString()+" minute"+(1===t?"":"s")}}}t.LockScreenUI=o},622:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.LoginScreenUI=void 0;const i=n(69);class s extends i.UIScreen{constructor(e){super(e),this._events={authenticationStart:()=>{this._disableForm()},authenticationComplete:()=>{},authenticationFailure:()=>{this._enableForm(),this._wigglePasswordInput()},errorMessage:e=>{alert(e),window.ui.setDebugInfo(e)},infoMessage:e=>{alert(e)}},this._form={form:document.getElementById("login-form"),loginInput:document.getElementById("login"),passwordInput:document.getElementById("password"),loginButton:document.getElementById("login-button")},this._initForm()}_initForm(){const e=this._form;this._form.form.addEventListener("submit",(t=>{t.preventDefault(),this._auth.login(e.loginInput.value,e.passwordInput.value)})),e.loginInput.addEventListener("input",(()=>{this._enableOrDisableSubmitButton()})),e.passwordInput.addEventListener("input",(()=>{this._enableOrDisableSubmitButton()}))}_enableOrDisableSubmitButton(){const e=this._form,t=""===e.loginInput.value.trim()||""===e.passwordInput.value;return e.loginButton.disabled=t,t}_wigglePasswordInput(e=!0){const t=this._form.passwordInput;t.classList.add("wiggle"),t.addEventListener("keydown",(()=>{t.classList.remove("wiggle")}),{once:!0}),e&&(t.value="",t.focus(),this._enableOrDisableSubmitButton())}_getInputToFocusOn(){const e=this._form;return""===e.loginInput.value.trim()?e.loginInput:e.passwordInput}}t.LoginScreenUI=s},335:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WallpaperUI=void 0,t.WallpaperUI=class{constructor(e,t=null){this._element=null!=t?t:document.body,this._blurFilter=document.getElementById("blur-filter"),this._isLockScreen=e,this.displayWallpaper()}displayWallpaper(){let e=window.data.loginScreenWallpaper;return this._isLockScreen&&(this._blurFilter.style.display="block",window.data.userLockScreenWallpaper.exists&&(e=window.data.userLockScreenWallpaper)),e.exists?this._element.style.backgroundImage='url("'+e.path+'")':this._element.style.backgroundImage=window.getComputedStyle(this._element).getPropertyValue("--default-bg-img"),!0}}},330:e=>{e.exports=JSON.parse('{"name":"codam-web-greeter","version":"1.3.0","description":"LightDM greeter theme for Codam Coding College, compatible with nody-greeter and web-greeter","main":"main.js","scripts":{"build":"tsc","bundle":"webpack --mode=production","bundle-dev":"webpack --mode=development","test":"echo \\"Error: no test specified\\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/codam-coding-college/codam-web-greeter.git"},"keywords":["codam","42born2code","lightdm","nody-greeter-theme","web-greeter-theme","lightdm-greeter"],"author":"Codam Coding College","license":"MIT","bugs":{"url":"https://github.com/codam-coding-college/codam-web-greeter/issues"},"homepage":"https://github.com/codam-coding-college/codam-web-greeter#readme","devDependencies":{"nody-greeter-types":"^1.1.0","ts-loader":"^9.5.0","typescript":"^4.9.5","webpack":"^5.94.0","webpack-cli":"^5.1.4"}}')}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(80)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YSxDQUFFbGMsTUFBTyxXQUU3REgsT0FBT0MsZUFBZUMsRUFBUyxhQUFjLENBQUVDLE9BQU8sR0FBTyxFQ0ZwQ2liLEVBQW9CLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb2RhbS13ZWItZ3JlZXRlci8uL25vZGVfbW9kdWxlcy9ub2R5LWdyZWV0ZXItdHlwZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY29kYW0td2ViLWdyZWV0ZXIvLi9jbGllbnQvYXV0aC50cyIsIndlYnBhY2s6Ly9jb2RhbS13ZWItZ3JlZXRlci8uL2NsaWVudC9kYXRhLnRzIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyLy4vY2xpZW50L2lkbGVyLnRzIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyLy4vY2xpZW50L21haW4udHMiLCJ3ZWJwYWNrOi8vY29kYW0td2ViLWdyZWV0ZXIvLi9jbGllbnQvdWkudHMiLCJ3ZWJwYWNrOi8vY29kYW0td2ViLWdyZWV0ZXIvLi9jbGllbnQvdWlzL2NhbGVuZGFyLnRzIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyLy4vY2xpZW50L3Vpcy9pbmZvYmFycy50cyIsIndlYnBhY2s6Ly9jb2RhbS13ZWItZ3JlZXRlci8uL2NsaWVudC91aXMvc2NyZWVuLnRzIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyLy4vY2xpZW50L3Vpcy9zY3JlZW5zL2V4YW1zY3JlZW4udHMiLCJ3ZWJwYWNrOi8vY29kYW0td2ViLWdyZWV0ZXIvLi9jbGllbnQvdWlzL3NjcmVlbnMvbG9ja3NjcmVlbi50cyIsIndlYnBhY2s6Ly9jb2RhbS13ZWItZ3JlZXRlci8uL2NsaWVudC91aXMvc2NyZWVucy9sb2dpbnNjcmVlbi50cyIsIndlYnBhY2s6Ly9jb2RhbS13ZWItZ3JlZXRlci8uL2NsaWVudC91aXMvd2FsbHBhcGVyLnRzIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9jb2RhbS13ZWItZ3JlZXRlci93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL2NvZGFtLXdlYi1ncmVldGVyL3dlYnBhY2svcnVudGltZS9tYWtlIG5hbWVzcGFjZSBvYmplY3QiLCJ3ZWJwYWNrOi8vY29kYW0td2ViLWdyZWV0ZXIvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBsaWdodGRtID0gd2luZG93LmxpZ2h0ZG07XG5leHBvcnQgY29uc3QgZ3JlZXRlcl9jb25maWcgPSB3aW5kb3cuZ3JlZXRlcl9jb25maWc7XG5leHBvcnQgY29uc3QgdGhlbWVfdXRpbHMgPSB3aW5kb3cudGhlbWVfdXRpbHM7XG5leHBvcnQgY29uc3QgZ3JlZXRlcl9jb21tID0gd2luZG93LmdyZWV0ZXJfY29tbTtcbmV4cG9ydCBjb25zdCBfcmVhZHlfZXZlbnQgPSB3aW5kb3cuX3JlYWR5X2V2ZW50O1xuXG5leHBvcnQgY29uc3QgTGlnaHRETVByb21wdFR5cGUgPSB7XG4gICAgUXVlc3Rpb246IDAsXG4gICAgU2VjcmV0OiAxLFxufTtcbmV4cG9ydCBjb25zdCBMaWdodERNTWVzc2FnZVR5cGUgPSB7XG4gICAgSW5mbzogMCxcbiAgICBFcnJvcjogMSxcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQXV0aGVudGljYXRvciA9IHZvaWQgMDtcbmNvbnN0IGluZGV4XzEgPSByZXF1aXJlKFwibm9keS1ncmVldGVyLXR5cGVzL2luZGV4XCIpO1xuY2xhc3MgQXV0aGVudGljYXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX2F1dGhlbnRpY2F0aW5nID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2F1dGhlbnRpY2F0ZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0aEV2ZW50cyA9IG51bGw7XG4gICAgICAgIHRoaXMuX3VzZXJuYW1lID0gXCJcIjtcbiAgICAgICAgdGhpcy5fcGFzc3dvcmQgPSBcIlwiO1xuICAgICAgICB0aGlzLl9zZXNzaW9uID0gXCJ1YnVudHVcIjtcbiAgICAgICAgdGhpcy5faW5pdExpZ2h0RE1MaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgX2luaXRMaWdodERNTGlzdGVuZXJzKCkge1xuICAgICAgICBpbmRleF8xLmxpZ2h0ZG0uc2hvd19wcm9tcHQuY29ubmVjdCgobWVzc2FnZSwgdHlwZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBpbmRleF8xLkxpZ2h0RE1Qcm9tcHRUeXBlLlF1ZXN0aW9uOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWdodERNIHJlcXVlc3RlZCB1c2VybmFtZSwgcmVzcG9uZGluZy4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XzEubGlnaHRkbS5yZXNwb25kKHRoaXMuX3VzZXJuYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIGluZGV4XzEuTGlnaHRETVByb21wdFR5cGUuU2VjcmV0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJMaWdodERNIHJlcXVlc3RlZCBwYXNzd29yZCwgcmVzcG9uZGluZy4uLlwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4XzEubGlnaHRkbS5yZXNwb25kKHRoaXMuX3Bhc3N3b3JkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVW5rbm93biBsaWdodERNIHByb21wdCB0eXBlOiAke3R5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdXRoRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dGhFdmVudHMuZXJyb3JNZXNzYWdlKFN0cmluZyhlcnIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpbmRleF8xLmxpZ2h0ZG0uc2hvd19tZXNzYWdlLmNvbm5lY3QoKG1lc3NhZ2UsIHR5cGUpID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaW5kZXhfMS5MaWdodERNTWVzc2FnZVR5cGUuSW5mbzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBMaWdodERNIGluZm8gbWVzc2FnZTogJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2F1dGhFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRoRXZlbnRzLmluZm9NZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaW5kZXhfMS5MaWdodERNTWVzc2FnZVR5cGUuRXJyb3I6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBMaWdodERNIGVycm9yIG1lc3NhZ2U6ICR7bWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdXRoRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aEV2ZW50cy5lcnJvck1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5rbm93biBsaWdodERNIG1lc3NhZ2UgdHlwZTogJHt0eXBlfSwgbWVzc2FnZTogJHttZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXV0aEV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRoRXZlbnRzLmVycm9yTWVzc2FnZShTdHJpbmcoZXJyKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaW5kZXhfMS5saWdodGRtLmF1dGhlbnRpY2F0aW9uX2NvbXBsZXRlLmNvbm5lY3QoKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hdXRoZW50aWNhdGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlnaHRETSBhdXRoZW50aWNhdGlvbiBjb21wbGV0ZS4gQ2hlY2tpbmcgcmVzdWx0cy4uLlwiKTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXhfMS5saWdodGRtLmlzX2F1dGhlbnRpY2F0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aGVudGljYXRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiTGlnaHRETSBhdXRoZW50aWNhdGlvbiBzdWNjZXNzZnVsISBTdGFydGluZyBzZXNzaW9uLi4uXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fYXV0aEV2ZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXV0aEV2ZW50cy5hdXRoZW50aWNhdGlvbkNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaW5kZXhfMS5saWdodGRtLnN0YXJ0X3Nlc3Npb24oKF9hID0gdGhpcy5fc2Vzc2lvbikgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogbnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxpZ2h0RE0gYXV0aGVudGljYXRpb24gZmFpbGVkLiBVc2VyIG5vdCBmb3VuZCBvciBwYXNzd29yZCBpbmNvcnJlY3QuXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zdG9wQXV0aGVudGljYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2F1dGhFdmVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dGhFdmVudHMuYXV0aGVudGljYXRpb25GYWlsdXJlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9hdXRoRXZlbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dGhFdmVudHMuZXJyb3JNZXNzYWdlKFN0cmluZyhlcnIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgYXV0aGVudGljYXRpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRoZW50aWNhdGluZztcbiAgICB9XG4gICAgZ2V0IGF1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hdXRoZW50aWNhdGVkO1xuICAgIH1cbiAgICBnZXQgdXNlcm5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VybmFtZTtcbiAgICB9XG4gICAgc2V0IGF1dGhFdmVudHMoYXV0aEV2ZW50cykge1xuICAgICAgICB0aGlzLl9hdXRoRXZlbnRzID0gYXV0aEV2ZW50cztcbiAgICB9XG4gICAgX2NsZWFyQXV0aCgpIHtcbiAgICAgICAgdGhpcy5fdXNlcm5hbWUgPSBcIlwiO1xuICAgICAgICB0aGlzLl9wYXNzd29yZCA9IFwiXCI7XG4gICAgfVxuICAgIF9zdG9wQXV0aGVudGljYXRpb24oKSB7XG4gICAgICAgIGluZGV4XzEubGlnaHRkbS5jYW5jZWxfYXV0aGVudGljYXRpb24oKTtcbiAgICAgICAgdGhpcy5fYXV0aGVudGljYXRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fYXV0aGVudGljYXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jbGVhckF1dGgoKTtcbiAgICB9XG4gICAgX3N0YXJ0QXV0aGVudGljYXRpb24oKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIExpZ2h0RE0gYXV0aGVudGljYXRpb24uLi5cIik7XG4gICAgICAgICAgICBpbmRleF8xLmxpZ2h0ZG0uY2FuY2VsX2F1dGhlbnRpY2F0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLl9hdXRoZW50aWNhdGluZyA9IHRydWU7XG4gICAgICAgICAgICBpbmRleF8xLmxpZ2h0ZG0uYXV0aGVudGljYXRlKHRoaXMuX3VzZXJuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBpZiAodGhpcy5fYXV0aEV2ZW50cykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2F1dGhFdmVudHMuZXJyb3JNZXNzYWdlKFN0cmluZyhlcnIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsb2dpbih1c2VybmFtZSwgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5fdXNlcm5hbWUgPSB1c2VybmFtZS5zdWJzdHJpbmcoMCwgQXV0aGVudGljYXRvci5NQVhfTEVOX1VTRVJOQU1FKS50cmltKCk7XG4gICAgICAgIHRoaXMuX3Bhc3N3b3JkID0gcGFzc3dvcmQuc3Vic3RyaW5nKDAsIEF1dGhlbnRpY2F0b3IuTUFYX0xFTl9QQVNTV09SRCk7XG4gICAgICAgIGlmICh0aGlzLl9hdXRoZW50aWNhdGluZyB8fCB0aGlzLl9hdXRoZW50aWNhdGVkKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJMb2dpbigpIHdhcyBjYWxsZWQgd2hpbGUgYWxyZWFkeSBhdXRoZW50aWNhdGluZyBvciBhdXRoZW50aWNhdGVkLiBTdG9wcGluZyBhdXRoZW50aWNhdGlvbi5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3VzZXJuYW1lID09PSBcIlwiIHx8IHRoaXMuX3Bhc3N3b3JkID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkxvZ2luKCkgd2FzIGNhbGxlZCB3aGlsZSB1c2VybmFtZSBvciBwYXNzd29yZCBpcyBlbXB0eS4gU3RvcHBpbmcgYXV0aGVudGljYXRpb24uXCIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9hdXRoRXZlbnRzKSB7XG4gICAgICAgICAgICB0aGlzLl9hdXRoRXZlbnRzLmF1dGhlbnRpY2F0aW9uU3RhcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zdGFydEF1dGhlbnRpY2F0aW9uKCk7XG4gICAgfVxufVxuZXhwb3J0cy5BdXRoZW50aWNhdG9yID0gQXV0aGVudGljYXRvcjtcbkF1dGhlbnRpY2F0b3IuTUFYX0xFTl9VU0VSTkFNRSA9IDMyO1xuQXV0aGVudGljYXRvci5NQVhfTEVOX1BBU1NXT1JEID0gMTI4O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG52YXIgX19pbXBvcnREZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydERlZmF1bHQpIHx8IGZ1bmN0aW9uIChtb2QpIHtcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IFwiZGVmYXVsdFwiOiBtb2QgfTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkRhdGEgPSBleHBvcnRzLkdyZWV0ZXJJbWFnZSA9IHZvaWQgMDtcbmNvbnN0IHBhY2thZ2VfanNvbl8xID0gX19pbXBvcnREZWZhdWx0KHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIikpO1xuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCJub2R5LWdyZWV0ZXItdHlwZXMvaW5kZXhcIik7XG5jb25zdCBQQVRIX0RBVEFfSlNPTiA9ICdkYXRhLmpzb24nO1xuY29uc3QgUEFUSF9MT0dPID0gJy91c3Ivc2hhcmUvY29kYW0vd2ViLWdyZWV0ZXIvbG9nby5wbmcnO1xuY29uc3QgUEFUSF9XQUxMUEFQRVJfTE9HSU4gPSAnL3Vzci9zaGFyZS9jb2RhbS93ZWItZ3JlZXRlci9sb2dpbi1zY3JlZW4ucG5nJztcbmNvbnN0IFBBVEhfV0FMTFBBUEVSX0VYQU0gPSAnL3Vzci9zaGFyZS9jb2RhbS93ZWItZ3JlZXRlci9leGFtLXdhbGxwYXBlci5wbmcnO1xuY29uc3QgUEFUSF9XQUxMUEFQRVJfRVhBTV9TVFJJUEUgPSAnL3Vzci9zaGFyZS9jb2RhbS93ZWItZ3JlZXRlci9leGFtLXN0cmlwZS5wbmcnO1xuY29uc3QgUEFUSF9XQUxMUEFQRVJfTE9DS19VU0VSID0gJy90bXAvY29kYW0td2ViLWdyZWV0ZXItdXNlci13YWxscGFwZXInO1xuY29uc3QgUEFUSF9VU0VSX0lNQUdFID0gJy90bXAvY29kYW0td2ViLWdyZWV0ZXItdXNlci1hdmF0YXInO1xuY29uc3QgUEFUSF9VU0VSX0RFRkFVTFRfSU1BR0UgPSAnL3Vzci9zaGFyZS9jb2RhbS93ZWItZ3JlZXRlci91c2VyLnBuZyc7XG5jbGFzcyBHcmVldGVySW1hZ2Uge1xuICAgIGNvbnN0cnVjdG9yKHBhdGgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLl9wYXRoID0gcGF0aDtcbiAgICAgICAgY29uc3QgZGlyID0gdGhpcy5fcGF0aC5zcGxpdCgnLycpLnNsaWNlKDAsIC0xKS5qb2luKCcvJyk7XG4gICAgICAgIGNvbnN0IGRpckZpbGVzID0gKF9hID0gd2luZG93LnRoZW1lX3V0aWxzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGlybGlzdF9zeW5jKGRpciwgZmFsc2UpO1xuICAgICAgICB0aGlzLl9leGlzdHMgPSAoZGlyRmlsZXMgIT09IHVuZGVmaW5lZCAmJiBkaXJGaWxlcy5pbmNsdWRlcyh0aGlzLl9wYXRoKSk7XG4gICAgICAgIGlmICghdGhpcy5fZXhpc3RzKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ1dhbGxwYXBlciBmaWxlIGRvZXMgbm90IGV4aXN0OiAnICsgdGhpcy5fcGF0aCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coYEZvdW5kIGltYWdlIGF0IFwiJHt0aGlzLl9wYXRofVwiYCk7XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGF0aDtcbiAgICB9XG4gICAgZ2V0IGV4aXN0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4aXN0cztcbiAgICB9XG59XG5leHBvcnRzLkdyZWV0ZXJJbWFnZSA9IEdyZWV0ZXJJbWFnZTtcbmNsYXNzIERhdGEge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9kYXRhSnNvbkZldGNoSW50ZXJ2YWwgPSA2MCAqIDEwMDA7XG4gICAgICAgIHRoaXMuX2RhdGFDaGFuZ2VMaXN0ZW5lcnMgPSBbXTtcbiAgICAgICAgdGhpcy5wa2dOYW1lID0gcGFja2FnZV9qc29uXzEuZGVmYXVsdC5uYW1lO1xuICAgICAgICB0aGlzLnBrZ1ZlcnNpb24gPSBwYWNrYWdlX2pzb25fMS5kZWZhdWx0LnZlcnNpb247XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgPSBpbmRleF8xLmxpZ2h0ZG0uaG9zdG5hbWU7XG4gICAgICAgIHRoaXMubG9naW5TY3JlZW5XYWxscGFwZXIgPSBuZXcgR3JlZXRlckltYWdlKFBBVEhfV0FMTFBBUEVSX0xPR0lOKTtcbiAgICAgICAgdGhpcy51c2VyTG9ja1NjcmVlbldhbGxwYXBlciA9IG5ldyBHcmVldGVySW1hZ2UoUEFUSF9XQUxMUEFQRVJfTE9DS19VU0VSKTtcbiAgICAgICAgdGhpcy5leGFtTG9ja1NjcmVlbldhbGxwYXBlciA9IG5ldyBHcmVldGVySW1hZ2UoUEFUSF9XQUxMUEFQRVJfRVhBTSk7XG4gICAgICAgIHRoaXMuZXhhbVN0cmlwZSA9IG5ldyBHcmVldGVySW1hZ2UoUEFUSF9XQUxMUEFQRVJfRVhBTV9TVFJJUEUpO1xuICAgICAgICB0aGlzLmxvZ28gPSBuZXcgR3JlZXRlckltYWdlKFBBVEhfTE9HTyk7XG4gICAgICAgIHRoaXMudXNlckltYWdlID0gbmV3IEdyZWV0ZXJJbWFnZShQQVRIX1VTRVJfSU1BR0UpO1xuICAgICAgICB0aGlzLnVzZXJEZWZhdWx0SW1hZ2UgPSBuZXcgR3JlZXRlckltYWdlKFBBVEhfVVNFUl9ERUZBVUxUX0lNQUdFKTtcbiAgICAgICAgc2V0SW50ZXJ2YWwoKCkgPT4gdGhpcy5fcmVmZXRjaERhdGFKc29uKCksIHRoaXMuX2RhdGFKc29uRmV0Y2hJbnRlcnZhbCk7XG4gICAgICAgIHRoaXMuX3JlZmV0Y2hEYXRhSnNvbigpO1xuICAgIH1cbiAgICBzdGF0aWMgZXhhbVRvRXZlbnQoZXhhbSkge1xuICAgICAgICBjb25zdCBkZXNjID0gYEZvciAke2V4YW0ucHJvamVjdHMubWFwKGMgPT4gYy5uYW1lKS5qb2luKCcsICcpfWA7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogZXhhbS5pZCxcbiAgICAgICAgICAgIG5hbWU6IGV4YW0ubmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBkZXNjLFxuICAgICAgICAgICAgbG9jYXRpb246IGV4YW0ubG9jYXRpb24sXG4gICAgICAgICAgICBraW5kOiAnZXhhbScsXG4gICAgICAgICAgICBtYXhfcGVvcGxlOiBleGFtLm1heF9wZW9wbGUsXG4gICAgICAgICAgICBuYnJfc3Vic2NyaWJlcnM6IGV4YW0ubmJyX3N1YnNjcmliZXJzLFxuICAgICAgICAgICAgYmVnaW5fYXQ6IGV4YW0uYmVnaW5fYXQsXG4gICAgICAgICAgICBlbmRfYXQ6IGV4YW0uZW5kX2F0LFxuICAgICAgICAgICAgY2FtcHVzX2lkczogW10sXG4gICAgICAgICAgICBjdXJzdXNfaWRzOiBleGFtLmN1cnN1cy5tYXAoYyA9PiBjLmlkKSxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IGV4YW0uY3JlYXRlZF9hdCxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IGV4YW0udXBkYXRlZF9hdCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgYWRkRGF0YUNoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIHRoaXMuX2RhdGFDaGFuZ2VMaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuICAgIHJlbW92ZURhdGFDaGFuZ2VMaXN0ZW5lcihsaXN0ZW5lcikge1xuICAgICAgICB0aGlzLl9kYXRhQ2hhbmdlTGlzdGVuZXJzID0gdGhpcy5fZGF0YUNoYW5nZUxpc3RlbmVycy5maWx0ZXIobCA9PiBsICE9PSBsaXN0ZW5lcik7XG4gICAgfVxuICAgIGdldCBkYXRhSnNvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RhdGFKc29uO1xuICAgIH1cbiAgICBfcmVmZXRjaERhdGFKc29uKCkge1xuICAgICAgICBmZXRjaChQQVRIX0RBVEFfSlNPTilcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHJlc3BvbnNlLmpzb24oKSlcbiAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJGZXRjaGVkIGRhdGEuanNvblwiLCBkYXRhKTtcbiAgICAgICAgICAgIGlmIChcImVycm9yXCIgaW4gZGF0YSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcImRhdGEuanNvbiByZXNwb25zZSBjb250YWlucyBhbiBlcnJvclwiLCBkYXRhKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKGBkYXRhLmpzb24gcmVzcG9uc2UgY29udGFpbnMgYW4gZXJyb3I6ICR7ZGF0YS5lcnJvcn1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIShcIm1lc3NhZ2VcIiBpbiBkYXRhKSkge1xuICAgICAgICAgICAgICAgIGRhdGEubWVzc2FnZSA9IFwiXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kYXRhSnNvbiA9IGRhdGE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuX2RhdGFDaGFuZ2VMaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lcih0aGlzLl9kYXRhSnNvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy51aSkge1xuICAgICAgICAgICAgICAgIHdpbmRvdy51aS5zZXREZWJ1Z0luZm8oYEVycm9yIGZldGNoaW5nIGRhdGEuanNvbjogJHtlcnJvcn1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5EYXRhID0gRGF0YTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5JZGxlciA9IHZvaWQgMDtcbmNsYXNzIElkbGVyIHtcbiAgICBjb25zdHJ1Y3Rvcihpc0xvY2tTY3JlZW4gPSBmYWxzZSkge1xuICAgICAgICB0aGlzLl9pZGxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2xhc3RBY3Rpdml0eSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX2lkbGVBZnRlciA9IDMwMDAwMDtcbiAgICAgICAgdGhpcy5fdGFrZUFjdGlvbkFmdGVyID0gMjUyMDAwMDtcbiAgICAgICAgdGhpcy5faXNMb2NrU2NyZWVuID0gaXNMb2NrU2NyZWVuO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5fdW5pZGxlLmJpbmQodGhpcykpO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbW92ZVwiLCB0aGlzLl91bmlkbGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIHRoaXMuX3VuaWRsZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgc2V0SW50ZXJ2YWwodGhpcy5fY2hlY2tJZGxlLmJpbmQodGhpcyksIDEwMDApO1xuICAgIH1cbiAgICBnZXQgaWRsZUFmdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faWRsZUFmdGVyO1xuICAgIH1cbiAgICBnZXQgaWRsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lkbGU7XG4gICAgfVxuICAgIF91bmlkbGUoKSB7XG4gICAgICAgIHRoaXMuX2xhc3RBY3Rpdml0eSA9IERhdGUubm93KCk7XG4gICAgICAgIHRoaXMuX2lkbGUgPSBmYWxzZTtcbiAgICB9XG4gICAgX2FjdGlvbigpIHtcbiAgICB9XG4gICAgX2NoZWNrSWZBY3Rpb25OZWVkZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pZGxlKSB7XG4gICAgICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuX2xhc3RBY3Rpdml0eSA+PSB0aGlzLl90YWtlQWN0aW9uQWZ0ZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9hY3Rpb24oKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIF9jaGVja0lkbGUoKSB7XG4gICAgICAgIGlmICh0aGlzLl9pZGxlKSB7XG4gICAgICAgICAgICB0aGlzLl9jaGVja0lmQWN0aW9uTmVlZGVkKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoRGF0ZS5ub3coKSAtIHRoaXMuX2xhc3RBY3Rpdml0eSA+PSB0aGlzLl9pZGxlQWZ0ZXIpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkbGUgPSB0cnVlO1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJOb3cgaWRsaW5nLi4uXCIpO1xuICAgICAgICAgICAgdGhpcy5fY2hlY2tJZkFjdGlvbk5lZWRlZCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydHMuSWRsZXIgPSBJZGxlcjtcbiIsIlwidXNlIHN0cmljdFwiO1xudmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBkYXRhXzEgPSByZXF1aXJlKFwiLi9kYXRhXCIpO1xuY29uc3QgdWlfMSA9IHJlcXVpcmUoXCIuL3VpXCIpO1xuY29uc3QgYXV0aF8xID0gcmVxdWlyZShcIi4vYXV0aFwiKTtcbmNvbnN0IGlkbGVyXzEgPSByZXF1aXJlKFwiLi9pZGxlclwiKTtcbmZ1bmN0aW9uIHNsZWVwKG1zKSB7XG4gICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG53aW5kb3cuc2xlZXAgPSBzbGVlcDtcbndpbmRvdy5yZXN0YXJ0Q29tcHV0ZXIgPSAoKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICB0cnkge1xuICAgICAgICBpZiAoISgoX2EgPSB3aW5kb3cubGlnaHRkbSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbl9yZXN0YXJ0KSkge1xuICAgICAgICAgICAgd2luZG93LnVpLnNldERlYnVnSW5mbyhcIlJlYm9vdGluZyBmYWlsZWQ6IGxpZ2h0ZG0uY2FuX3Jlc3RhcnQgaXMgZmFsc2VcIik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgKF9iID0gd2luZG93LmxpZ2h0ZG0pID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZXN0YXJ0KCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHdpbmRvdy51aS5zZXREZWJ1Z0luZm8oYFJlYm9vdGluZyBmYWlsZWQ6ICR7ZXJyfWApO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufTtcbndpbmRvdy5icmlnaHRuZXNzID0ge1xuICAgIGRlY3JlYXNlOiAoKSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICghKChfYSA9IHdpbmRvdy5saWdodGRtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FuX2FjY2Vzc19icmlnaHRuZXNzKSkge1xuICAgICAgICAgICAgd2luZG93LnVpLnNldERlYnVnSW5mbygnQnJpZ2h0bmVzcyBjb250cm9sIGZhaWxlZDogbGlnaHRkbS5jYW5fYWNjZXNzX2JyaWdodG5lc3MgaXMgZmFsc2UnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAoX2IgPSB3aW5kb3cubGlnaHRkbSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmJyaWdodG5lc3NfZGVjcmVhc2UoMTApO1xuICAgIH0sXG4gICAgaW5jcmVhc2U6ICgpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKCEoKF9hID0gd2luZG93LmxpZ2h0ZG0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYW5fYWNjZXNzX2JyaWdodG5lc3MpKSB7XG4gICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKCdCcmlnaHRuZXNzIGNvbnRyb2wgZmFpbGVkOiBsaWdodGRtLmNhbl9hY2Nlc3NfYnJpZ2h0bmVzcyBpcyBmYWxzZScpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIChfYiA9IHdpbmRvdy5saWdodGRtKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuYnJpZ2h0bmVzc19pbmNyZWFzZSgxMCk7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGluaXRHcmVldGVyKCkge1xuICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHdpbmRvdy5kYXRhID0gbmV3IGRhdGFfMS5EYXRhKCk7XG4gICAgICAgIHdpbmRvdy5hdXRoID0gbmV3IGF1dGhfMS5BdXRoZW50aWNhdG9yKCk7XG4gICAgICAgIHdpbmRvdy51aSA9IG5ldyB1aV8xLlVJKHdpbmRvdy5kYXRhLCB3aW5kb3cuYXV0aCk7XG4gICAgICAgIHdpbmRvdy5pZGxlciA9IG5ldyBpZGxlcl8xLklkbGVyKHdpbmRvdy51aS5pc0xvY2tTY3JlZW4pO1xuICAgICAgICB3aW5kb3cuZGVidWdLZXlzID0gZmFsc2U7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRJbnB1dCA9ICgoKF9hID0gZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnRhZ05hbWUpID09PSAnSU5QVVQnICYmICgoX2IgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZ2V0QXR0cmlidXRlKCd0eXBlJykpID09PSAncGFzc3dvcmQnKTtcbiAgICAgICAgICAgIGlmICh3aW5kb3cuZGVidWdLZXlzICYmICFpc1Bhc3N3b3JkSW5wdXQpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKGBLZXkgcHJlc3NlZDogJHtlLmNvZGV9ICgke2Uua2V5fSkke2UuY3RybEtleSA/ICcgKyBDdHJsJyA6ICcnfSR7ZS5hbHRLZXkgPyAnICsgQWx0JyA6ICcnfSR7ZS5zaGlmdEtleSA/ICcgKyBTaGlmdCcgOiAnJ30ke2UubWV0YUtleSA/ICcgKyBNZXRhJyA6ICcnfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGUuY3RybEtleSAmJiBlLmFsdEtleSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRGVsZXRlJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuZGVidWdLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnVpLnNldERlYnVnSW5mbygnUmVib290IHJlcXVlc3RlZCB0aHJvdWdoIExpZ2h0RE0nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucmVzdGFydENvbXB1dGVyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRlYnVnS2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy51aS5zZXREZWJ1Z0luZm8oJ0V4YW0gbW9kZSBvdmVycmlkZSBlbmFibGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LnVpLm92ZXJyaWRlRXhhbU1vZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5kZWJ1Z0tleXMgPSAod2luZG93LmRlYnVnS2V5cykgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKGBEZWJ1ZyBrZXlzOiAkeyh3aW5kb3cuZGVidWdLZXlzID8gJ2VuYWJsZWQnIDogJ2Rpc2FibGVkJyl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnbCc6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmRlYnVnS2V5cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZS5rZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnQnJpZ2h0bmVzc0Rvd24nOlxuICAgICAgICAgICAgICAgICAgICBjYXNlICdGMSc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0YxNCc6XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYnJpZ2h0bmVzcy5kZWNyZWFzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0JyaWdodG5lc3NVcCc6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ0YyJzpcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnRjE1JzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5icmlnaHRuZXNzLmluY3JlYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJHcmVldGVyUmVhZHlcIiwgKCkgPT4ge1xuICAgIGluaXRHcmVldGVyKCk7XG59KTtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5VSSA9IHZvaWQgMDtcbmNvbnN0IGluZm9iYXJzXzEgPSByZXF1aXJlKFwiLi91aXMvaW5mb2JhcnNcIik7XG5jb25zdCBsb2Nrc2NyZWVuXzEgPSByZXF1aXJlKFwiLi91aXMvc2NyZWVucy9sb2Nrc2NyZWVuXCIpO1xuY29uc3QgbG9naW5zY3JlZW5fMSA9IHJlcXVpcmUoXCIuL3Vpcy9zY3JlZW5zL2xvZ2luc2NyZWVuXCIpO1xuY29uc3Qgbm9keV9ncmVldGVyX3R5cGVzXzEgPSByZXF1aXJlKFwibm9keS1ncmVldGVyLXR5cGVzXCIpO1xuY29uc3Qgd2FsbHBhcGVyXzEgPSByZXF1aXJlKFwiLi91aXMvd2FsbHBhcGVyXCIpO1xuY29uc3QgY2FsZW5kYXJfMSA9IHJlcXVpcmUoXCIuL3Vpcy9jYWxlbmRhclwiKTtcbmNvbnN0IGV4YW1zY3JlZW5fMSA9IHJlcXVpcmUoXCIuL3Vpcy9zY3JlZW5zL2V4YW1zY3JlZW5cIik7XG5jbGFzcyBVSSB7XG4gICAgY29uc3RydWN0b3IoZGF0YSwgYXV0aCkge1xuICAgICAgICB0aGlzLl9sb2NrU2NyZWVuID0gbnVsbDtcbiAgICAgICAgdGhpcy5fbG9naW5TY3JlZW4gPSBudWxsO1xuICAgICAgICB0aGlzLl9leGFtTW9kZVNjcmVlbiA9IG51bGw7XG4gICAgICAgIHRoaXMuX2lzTG9ja1NjcmVlbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9leGFtTW9kZURpc2FibGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NjYWxpbmdGYWN0b3IgPSAxO1xuICAgICAgICB0aGlzLl9pbmZvQmFycyA9IG5ldyBpbmZvYmFyc18xLkluZm9CYXJzVUkoKTtcbiAgICAgICAgdGhpcy5fbG9nbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dvJyk7XG4gICAgICAgIHRoaXMuX21lc3NhZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVzc2FnZScpO1xuICAgICAgICB0aGlzLmFwcGx5SGlEcGlTY2FsaW5nKCk7XG4gICAgICAgIGlmIChkYXRhLmxvZ28uZXhpc3RzKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2dvLnNyYyA9IGRhdGEubG9nby5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjdGl2ZVNlc3Npb24gPSBub2R5X2dyZWV0ZXJfdHlwZXNfMS5saWdodGRtLnVzZXJzLmZpbmQoKHVzZXIpID0+IHVzZXIubG9nZ2VkX2luKTtcbiAgICAgICAgaWYgKGFjdGl2ZVNlc3Npb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fbG9ja1NjcmVlbiA9IG5ldyBsb2Nrc2NyZWVuXzEuTG9ja1NjcmVlblVJKGF1dGgsIGFjdGl2ZVNlc3Npb24pO1xuICAgICAgICAgICAgdGhpcy5faXNMb2NrU2NyZWVuID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2xvZ28uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMuX2xvY2tTY3JlZW4uc2hvd0Zvcm0oKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX2xvZ2luU2NyZWVuID0gbmV3IGxvZ2luc2NyZWVuXzEuTG9naW5TY3JlZW5VSShhdXRoKTtcbiAgICAgICAgICAgIHRoaXMuX2V4YW1Nb2RlU2NyZWVuID0gbmV3IGV4YW1zY3JlZW5fMS5FeGFtTW9kZVVJKGF1dGgsIHRoaXMuX2xvZ2luU2NyZWVuKTtcbiAgICAgICAgICAgIGRhdGEuYWRkRGF0YUNoYW5nZUxpc3RlbmVyKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaGVja0ZvckV4YW1Nb2RlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNoZWNrRm9yRXhhbU1vZGUoKTtcbiAgICAgICAgICAgIH0sIFVJLkVYQU1fTU9ERV9DSEVDS19JTlRFUlZBTCk7XG4gICAgICAgICAgICB0aGlzLmNoZWNrRm9yRXhhbU1vZGUoKTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLmFkZERhdGFDaGFuZ2VMaXN0ZW5lcigoZGF0YSkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0TWVzc2FnZShkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGRhdGEuZGF0YUpzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zZXRNZXNzYWdlKGRhdGEuZGF0YUpzb24ubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fd2FsbHBhcGVyID0gbmV3IHdhbGxwYXBlcl8xLldhbGxwYXBlclVJKHRoaXMuX2lzTG9ja1NjcmVlbik7XG4gICAgICAgIHRoaXMuX2NhbGVuZGFyID0gbmV3IGNhbGVuZGFyXzEuQ2FsZW5kYXJVSShkYXRhKTtcbiAgICB9XG4gICAgZ2V0IGlzTG9ja1NjcmVlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzTG9ja1NjcmVlbjtcbiAgICB9XG4gICAgb3ZlcnJpZGVFeGFtTW9kZSgpIHtcbiAgICAgICAgdGhpcy5fZXhhbU1vZGVEaXNhYmxlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2hlY2tGb3JFeGFtTW9kZSgpO1xuICAgIH1cbiAgICBzZXREZWJ1Z0luZm8oaW5mbykge1xuICAgICAgICB0aGlzLl9pbmZvQmFycy5zZXREZWJ1Z0luZm8oaW5mbyk7XG4gICAgfVxuICAgIHNldE1lc3NhZ2UobWVzc2FnZSkge1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC8oPChbXj5dKyk+KS9naSwgXCJcIik7XG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoL1xcbi9nLCAnPGJyPicpO1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC9cXCooLio/KVxcKi9nLCAnPGI+JDE8L2I+Jyk7XG4gICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlLnJlcGxhY2UoL18oLio/KV8vZywgJzxpPiQxPC9pPicpO1xuICAgICAgICBtZXNzYWdlID0gbWVzc2FnZS5yZXBsYWNlKC8gICsvZywgJyZuYnNwOyZuYnNwOycpO1xuICAgICAgICB0aGlzLl9tZXNzYWdlLmlubmVySFRNTCA9IG1lc3NhZ2U7XG4gICAgfVxuICAgIGdldE1lc3NhZ2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9tZXNzYWdlLmlubmVyVGV4dDtcbiAgICB9XG4gICAgY2hlY2tGb3JFeGFtTW9kZSgpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGlmICh0aGlzLmlzTG9ja1NjcmVlbikge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuZGF0YS5kYXRhSnNvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoX2EgPSB0aGlzLl9leGFtTW9kZVNjcmVlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhpZGVGb3JtKCk7XG4gICAgICAgICAgICAoX2IgPSB0aGlzLl9sb2dpblNjcmVlbikgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnNob3dGb3JtKCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXhhbXNGb3JIb3N0ID0gd2luZG93LmRhdGEuZGF0YUpzb24uZXhhbXNfZm9yX2hvc3Q7XG4gICAgICAgIGNvbnN0IG9uZ29pbmdFeGFtcyA9IGV4YW1zRm9ySG9zdC5maWx0ZXIoKGV4YW0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCBiZWdpbkF0ID0gbmV3IERhdGUoZXhhbS5iZWdpbl9hdCk7XG4gICAgICAgICAgICBjb25zdCBiZWdpbkV4YW1Nb2RlQXQgPSBuZXcgRGF0ZShiZWdpbkF0LmdldFRpbWUoKSAtIFVJLlNIT1dfRVhBTV9NT0RFX01JTlVURVNfQkVGT1JFX0JFR0lOICogNjAgKiAxMDAwKTtcbiAgICAgICAgICAgIGNvbnN0IGVuZEF0ID0gbmV3IERhdGUoZXhhbS5lbmRfYXQpO1xuICAgICAgICAgICAgcmV0dXJuIG5vdyA+PSBiZWdpbkV4YW1Nb2RlQXQgJiYgbm93IDwgZW5kQXQ7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIXRoaXMuX2V4YW1Nb2RlRGlzYWJsZWQgJiYgb25nb2luZ0V4YW1zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmICghKChfYyA9IHRoaXMuX2V4YW1Nb2RlU2NyZWVuKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZXhhbU1vZGUpIHx8ICFvbmdvaW5nRXhhbXMuc29tZSgoZXhhbSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSB0aGlzLl9leGFtTW9kZVNjcmVlbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV4YW1JZHMuaW5jbHVkZXMoZXhhbS5pZCk7IH0pKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJBY3RpdmF0aW5nIGV4YW0gbW9kZSBsb2dpbiBVSVwiKTtcbiAgICAgICAgICAgICAgICAoX2QgPSB0aGlzLl9leGFtTW9kZVNjcmVlbikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmVuYWJsZUV4YW1Nb2RlKG9uZ29pbmdFeGFtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICgoX2UgPSB0aGlzLl9leGFtTW9kZVNjcmVlbikgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLmV4YW1Nb2RlKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0RlYWN0aXZhdGluZyBleGFtIG1vZGUgbG9naW4gVUknKTtcbiAgICAgICAgICAgICAgICAoX2YgPSB0aGlzLl9leGFtTW9kZVNjcmVlbikgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLmRpc2FibGVFeGFtTW9kZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBnZXRQYWRkaW5nKGVsZW1lbnQgPSBkb2N1bWVudC5ib2R5KSB7XG4gICAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tcGFkZGluZycpO1xuICAgIH1cbiAgICBzZXRQcmltYXJ5VGhlbWVDb2xvcihjb2xvcikge1xuICAgICAgICBjb25zdCByb290ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuICAgICAgICBpZiAoY29sb3IgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoJy0tY29sb3ItcHJpbWFyeScsICd2YXIoLS1jb2xvci1ibHVlKScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1jb2xvci1wcmltYXJ5JywgY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldFByaW1hcnlUaGVtZUNvbG9yKCkge1xuICAgICAgICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLmdldFByb3BlcnR5VmFsdWUoJy0tY29sb3ItcHJpbWFyeScpO1xuICAgIH1cbiAgICBnZXQgc2NhbGluZ0ZhY3RvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjYWxpbmdGYWN0b3I7XG4gICAgfVxuICAgIGFwcGx5SGlEcGlTY2FsaW5nKCkge1xuICAgICAgICBpZiAod2luZG93Lm91dGVyV2lkdGggPiAyNTYwIHx8IHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICE9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpeGVsUmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA+IDEgPyB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbyA6IDEuNTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuem9vbSA9IGAke3BpeGVsUmF0aW99YDtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgICByb290LnN0eWxlLnNldFByb3BlcnR5KCctLXpvb20nLCBgJHtwaXhlbFJhdGlvfWApO1xuICAgICAgICAgICAgdGhpcy5fc2NhbGluZ0ZhY3RvciA9IHBpeGVsUmF0aW87XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLlVJID0gVUk7XG5VSS5FWEFNX01PREVfQ0hFQ0tfSU5URVJWQUwgPSA1ICogMTAwMDtcblVJLlNIT1dfRVhBTV9NT0RFX01JTlVURVNfQkVGT1JFX0JFR0lOID0gMjA7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuQ2FsZW5kYXJVSSA9IHZvaWQgMDtcbmNvbnN0IGRhdGFfMSA9IHJlcXVpcmUoXCIuLi9kYXRhXCIpO1xuY29uc3QgdWlfMSA9IHJlcXVpcmUoXCIuLi91aVwiKTtcbmNsYXNzIENhbGVuZGFyVUkge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFIb2xkZXIpIHtcbiAgICAgICAgdGhpcy5fY2FsZW5kYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW50cmEtY2FsZW5kYXInKTtcbiAgICAgICAgdGhpcy5wb3B1bGF0ZUNhbGVuZGFyKCk7XG4gICAgICAgIGRhdGFIb2xkZXIuYWRkRGF0YUNoYW5nZUxpc3RlbmVyKHRoaXMucG9wdWxhdGVDYWxlbmRhci5iaW5kKHRoaXMpKTtcbiAgICB9XG4gICAgX2VzdGltYXRlRHVyYXRpb24oYmVnaW5BdCwgZW5kQXQpIHtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSBlbmRBdC5nZXRUaW1lKCkgLSBiZWdpbkF0LmdldFRpbWUoKTtcbiAgICAgICAgY29uc3QgZGF5cyA9IE1hdGguZmxvb3IoZHVyYXRpb24gLyAxMDAwIC8gNjAgLyA2MCAvIDI0KTtcbiAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKGR1cmF0aW9uIC8gMTAwMCAvIDYwIC8gNjApO1xuICAgICAgICBjb25zdCBtaW51dGVzID0gTWF0aC5mbG9vcihkdXJhdGlvbiAvIDEwMDAgLyA2MCk7XG4gICAgICAgIGlmIChkYXlzID4gMSkge1xuICAgICAgICAgICAgcmV0dXJuIGAke2RheXN9IGRheXNgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGhvdXJzID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGBBYm91dCAke2hvdXJzfSBob3VyJHtob3VycyA9PT0gMSA/ICcnIDogJ3MnfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAobWludXRlcyA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBgQWJvdXQgJHttaW51dGVzfSBtaW51dGUke21pbnV0ZXMgPT09IDEgPyAnJyA6ICdzJ31gO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBfcmVtb3ZlTWFya2Rvd25TeW50YXgodGV4dCkge1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXCpcXCooLio/KVxcKlxcKi9nLCAnJDEnKTtcbiAgICAgICAgdGV4dCA9IHRleHQucmVwbGFjZSgvXFwqKC4qPylcXCovZywgJyQxJyk7XG4gICAgICAgIHRleHQgPSB0ZXh0LnJlcGxhY2UoL1xcXyguKj8pXFxfL2csICckMScpO1xuICAgICAgICB0ZXh0ID0gdGV4dC5yZXBsYWNlKC9cXFsoLio/KVxcXVxcKCguKj8pXFwpL2csICckMSAoJDIpJyk7XG4gICAgICAgIHJldHVybiB0ZXh0O1xuICAgIH1cbiAgICBfZXZlbnRGaXRzT25TY3JlZW4oZXZlbnRFbGVtZW50ID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IGF2YWlsYWJsZVdpbmRvd0hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgICAgY29uc3QgaW5mb0JhckhlaWdodCA9IHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUodGhpcy5fY2FsZW5kYXIpLmdldFByb3BlcnR5VmFsdWUoJy0taGVhZGVyLWZvb3Rlci1oZWlnaHQnKSkgKiB3aW5kb3cudWkuc2NhbGluZ0ZhY3RvcjtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJIZWlnaHQgPSB0aGlzLl9jYWxlbmRhci5jbGllbnRIZWlnaHQgKiB3aW5kb3cudWkuc2NhbGluZ0ZhY3RvcjtcbiAgICAgICAgY29uc3QgZXZlbnRIZWlnaHQgPSA3OCAqIHdpbmRvdy51aS5zY2FsaW5nRmFjdG9yO1xuICAgICAgICBjb25zdCBldmVudE1hcmdpbiA9IHBhcnNlSW50KHVpXzEuVUkuZ2V0UGFkZGluZyh0aGlzLl9jYWxlbmRhcikpICogd2luZG93LnVpLnNjYWxpbmdGYWN0b3I7XG4gICAgICAgIGNvbnN0IHJlcXVpcmVkU3BhY2UgPSBldmVudEhlaWdodCArIGV2ZW50TWFyZ2luO1xuICAgICAgICBjb25zdCBzcGFjZUxlZnQgPSBhdmFpbGFibGVXaW5kb3dIZWlnaHQgLSBjYWxlbmRhckhlaWdodCAtIChpbmZvQmFySGVpZ2h0ICogMikgLSAoZXZlbnRNYXJnaW4gKiAyKTtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkNhbGN1bGF0ZWQgaWYgZXZlbnQgZml0cyBvbiBzY3JlZW5cIiwgXCJhdmFpbGFibGVXaW5kb3dIZWlnaHRcIiwgYXZhaWxhYmxlV2luZG93SGVpZ2h0LCBcImNhbGVuZGFySGVpZ2h0XCIsIGNhbGVuZGFySGVpZ2h0LCBcImV2ZW50SGVpZ2h0XCIsIGV2ZW50SGVpZ2h0LCBcImV2ZW50TWFyZ2luXCIsIGV2ZW50TWFyZ2luLCBcInJlcXVpcmVkU3BhY2VcIiwgcmVxdWlyZWRTcGFjZSwgXCJzcGFjZUxlZnRcIiwgc3BhY2VMZWZ0LCBcInNjYWxpbmdGYWN0b3JcIiwgd2luZG93LnVpLnNjYWxpbmdGYWN0b3IpO1xuICAgICAgICByZXR1cm4gcmVxdWlyZWRTcGFjZSA8IHNwYWNlTGVmdDtcbiAgICB9XG4gICAgcG9wdWxhdGVDYWxlbmRhcihkYXRhSlNPTiA9IHdpbmRvdy5kYXRhLmRhdGFKc29uKSB7XG4gICAgICAgIGlmIChkYXRhSlNPTiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9kZXN0cm95QWxsRXZlbnRzKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXZlbnRzRm9yQ2FsZW5kYXIgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBkYXRhSlNPTi5ldmVudHMpIHtcbiAgICAgICAgICAgIGV2ZW50c0ZvckNhbGVuZGFyLnB1c2godGhpcy5fY3JlYXRlRXZlbnRFbGVtZW50KGV2ZW50KSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBleGFtIG9mIGRhdGFKU09OLmV4YW1zKSB7XG4gICAgICAgICAgICBjb25zdCBldmVudCA9IGRhdGFfMS5EYXRhLmV4YW1Ub0V2ZW50KGV4YW0pO1xuICAgICAgICAgICAgZXZlbnRzRm9yQ2FsZW5kYXIucHVzaCh0aGlzLl9jcmVhdGVFdmVudEVsZW1lbnQoZXZlbnQpKTtcbiAgICAgICAgfVxuICAgICAgICBldmVudHNGb3JDYWxlbmRhci5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KChfYSA9IGEuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudC10aW1lc3RhbXBcIikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiMFwiKSAtIHBhcnNlSW50KChfYiA9IGIuZ2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudC10aW1lc3RhbXBcIikpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFwiMFwiKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2Rlc3Ryb3lBbGxFdmVudHMoKTtcbiAgICAgICAgZm9yIChjb25zdCBldmVudCBvZiBldmVudHNGb3JDYWxlbmRhcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9ldmVudEZpdHNPblNjcmVlbihldmVudCkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIkV2ZW50IGRvZXNuJ3QgZml0IG9uIHNjcmVlblwiKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NhbGVuZGFyLmFwcGVuZENoaWxkKGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZGVzdHJveUFsbEV2ZW50cygpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fY2FsZW5kYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FsZW5kYXItZXZlbnQnKTtcbiAgICAgICAgd2hpbGUgKGV2ZW50cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBldmVudHNbMF0ucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2NyZWF0ZUV2ZW50RWxlbWVudChldmVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGJlZ2luRGF0ZSA9IG5ldyBEYXRlKGV2ZW50LmJlZ2luX2F0KTtcbiAgICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKGV2ZW50LmVuZF9hdCk7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudC5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1ldmVudCcpO1xuICAgICAgICBjYWxlbmRhckV2ZW50LnNldEF0dHJpYnV0ZShcImRhdGEtZXZlbnQta2luZFwiLCAoZXZlbnQubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwiYm9jYWwgc3RhbmQtdXBcIikgPyBcInN0YW5kdXBcIiA6IGV2ZW50LmtpbmQpKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50LWlkXCIsIGV2ZW50LmlkLnRvU3RyaW5nKCkpO1xuICAgICAgICBjYWxlbmRhckV2ZW50LnNldEF0dHJpYnV0ZShcImRhdGEtZXZlbnQtdGltZXN0YW1wXCIsIGJlZ2luRGF0ZS5nZXRUaW1lKCkudG9TdHJpbmcoKSk7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnREYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnREYXRlLmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWV2ZW50LWRhdGUnKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudC5hcHBlbmRDaGlsZChjYWxlbmRhckV2ZW50RGF0ZSk7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnREYXRlRGF5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGF0ZURheS5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1ldmVudC1kYXRlLWRheScpO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGF0ZURheS5pbm5lclRleHQgPSBiZWdpbkRhdGUudG9Mb2NhbGVTdHJpbmcoJ2VuLU5MJywgeyB3ZWVrZGF5OiAnc2hvcnQnIH0pO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGF0ZS5hcHBlbmRDaGlsZChjYWxlbmRhckV2ZW50RGF0ZURheSk7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnREYXRlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudERhdGVEYXRlLmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWV2ZW50LWRhdGUtZGF0ZScpO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGF0ZURhdGUuaW5uZXJUZXh0ID0gYmVnaW5EYXRlLnRvTG9jYWxlU3RyaW5nKCdlbi1OTCcsIHsgZGF5OiAnbnVtZXJpYycgfSk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnREYXRlLmFwcGVuZENoaWxkKGNhbGVuZGFyRXZlbnREYXRlRGF0ZSk7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnREYXRlTW9udGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnREYXRlTW9udGguY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtZGF0ZS1tb250aCcpO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGF0ZU1vbnRoLmlubmVyVGV4dCA9IGJlZ2luRGF0ZS50b0xvY2FsZVN0cmluZygnZW4tTkwnLCB7IG1vbnRoOiAnc2hvcnQnIH0pO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGF0ZS5hcHBlbmRDaGlsZChjYWxlbmRhckV2ZW50RGF0ZU1vbnRoKTtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJFdmVudFdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtd3JhcHBlcicpO1xuICAgICAgICBjYWxlbmRhckV2ZW50LmFwcGVuZENoaWxkKGNhbGVuZGFyRXZlbnRXcmFwcGVyKTtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJFdmVudFRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnRUaXRsZS5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1ldmVudC10aXRsZScpO1xuICAgICAgICBjYWxlbmRhckV2ZW50VGl0bGUuaW5uZXJUZXh0ID0gZXZlbnQubmFtZTtcbiAgICAgICAgY2FsZW5kYXJFdmVudFdyYXBwZXIuYXBwZW5kQ2hpbGQoY2FsZW5kYXJFdmVudFRpdGxlKTtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJFdmVudERlc2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudERlc2MuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtZGVzY3JpcHRpb24nKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudERlc2MuaW5uZXJUZXh0ID0gdGhpcy5fcmVtb3ZlTWFya2Rvd25TeW50YXgoZXZlbnQuZGVzY3JpcHRpb24pO1xuICAgICAgICBjYWxlbmRhckV2ZW50V3JhcHBlci5hcHBlbmRDaGlsZChjYWxlbmRhckV2ZW50RGVzYyk7XG4gICAgICAgIGNvbnN0IGNhbGVuZGFyRXZlbnREZXRhaWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnREZXRhaWxzLmNsYXNzTGlzdC5hZGQoJ2NhbGVuZGFyLWV2ZW50LWRldGFpbHMnKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudFdyYXBwZXIuYXBwZW5kQ2hpbGQoY2FsZW5kYXJFdmVudERldGFpbHMpO1xuICAgICAgICBjb25zdCBjYWxlbmRhckV2ZW50VGltZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudFRpbWUuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtdGltZScpO1xuICAgICAgICBjYWxlbmRhckV2ZW50VGltZS5pbm5lclRleHQgPSBiZWdpbkRhdGUudG9Mb2NhbGVTdHJpbmcoJ2VuLU5MJywgeyB0aW1lU3R5bGU6ICdzaG9ydCcgfSk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnREZXRhaWxzLmFwcGVuZENoaWxkKGNhbGVuZGFyRXZlbnRUaW1lKTtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJFdmVudER1cmF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjYWxlbmRhckV2ZW50RHVyYXRpb24uY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtZHVyYXRpb24nKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudER1cmF0aW9uLmlubmVyVGV4dCA9IHRoaXMuX2VzdGltYXRlRHVyYXRpb24oYmVnaW5EYXRlLCBlbmREYXRlKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudERldGFpbHMuYXBwZW5kQ2hpbGQoY2FsZW5kYXJFdmVudER1cmF0aW9uKTtcbiAgICAgICAgY29uc3QgY2FsZW5kYXJFdmVudFNwb3RzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICBjYWxlbmRhckV2ZW50U3BvdHMuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtc3BvdHMnKTtcbiAgICAgICAgY2FsZW5kYXJFdmVudFNwb3RzLmlubmVyVGV4dCA9IChldmVudC5tYXhfcGVvcGxlID8gYCR7ZXZlbnQubmJyX3N1YnNjcmliZXJzfSAvICR7ZXZlbnQubWF4X3Blb3BsZX1gIDogJycpO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGV0YWlscy5hcHBlbmRDaGlsZChjYWxlbmRhckV2ZW50U3BvdHMpO1xuICAgICAgICBjb25zdCBjYWxlbmRhckV2ZW50TG9jYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgIGNhbGVuZGFyRXZlbnRMb2NhdGlvbi5jbGFzc0xpc3QuYWRkKCdjYWxlbmRhci1ldmVudC1sb2NhdGlvbicpO1xuICAgICAgICBjYWxlbmRhckV2ZW50TG9jYXRpb24uaW5uZXJUZXh0ID0gKF9hID0gZXZlbnQubG9jYXRpb24pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnO1xuICAgICAgICBjYWxlbmRhckV2ZW50RGV0YWlscy5hcHBlbmRDaGlsZChjYWxlbmRhckV2ZW50TG9jYXRpb24pO1xuICAgICAgICB0aGlzLl9hZGREaWFsb2dUb0V2ZW50KGNhbGVuZGFyRXZlbnQpO1xuICAgICAgICByZXR1cm4gY2FsZW5kYXJFdmVudDtcbiAgICB9XG4gICAgX2FkZERpYWxvZ1RvRXZlbnQoZXZlbnRFbGVtZW50KSB7XG4gICAgICAgIGV2ZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ2xpY2tlZCBldmVudFwiLCBldmVudEVsZW1lbnQpO1xuICAgICAgICAgICAgY29uc3QgZGlhbG9nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGlhbG9nJyk7XG4gICAgICAgICAgICBkaWFsb2cuY2xhc3NMaXN0LmFkZCgnY2FsZW5kYXItZXZlbnQtZGlhbG9nJyk7XG4gICAgICAgICAgICBkaWFsb2cuc2V0QXR0cmlidXRlKFwiZGF0YS1ldmVudC1raW5kXCIsIChfYSA9IGV2ZW50RWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLWV2ZW50LWtpbmRcIikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFwiZXZlbnRcIik7XG4gICAgICAgICAgICBjb25zdCBkaWFsb2dDbG9zZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgZGlhbG9nQ2xvc2VCdXR0b24uY2xhc3NMaXN0LmFkZCgnZGlhbG9nLWNsb3NlLWJ1dHRvbicpO1xuICAgICAgICAgICAgZGlhbG9nQ2xvc2VCdXR0b24uaW5uZXJIVE1MID0gJyZ0aW1lczsnO1xuICAgICAgICAgICAgZGlhbG9nLmFwcGVuZENoaWxkKGRpYWxvZ0Nsb3NlQnV0dG9uKTtcbiAgICAgICAgICAgIGNvbnN0IGRpYWxvZ0NvbnRlbnRzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICBkaWFsb2dDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdldmVudC1kaWFsb2ctY29udGVudHMnKTtcbiAgICAgICAgICAgIGRpYWxvZy5hcHBlbmRDaGlsZChkaWFsb2dDb250ZW50cyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGV2ZW50RWxlbWVudC5jaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIGRpYWxvZ0NvbnRlbnRzLmFwcGVuZENoaWxkKGNoaWxkLmNsb25lTm9kZSh0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkaWFsb2dDb250ZW50cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldikgPT4ge1xuICAgICAgICAgICAgICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBkaWFsb2cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXYpID0+IHtcbiAgICAgICAgICAgICAgICBkaWFsb2cuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICBkaWFsb2cucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGlhbG9nKTtcbiAgICAgICAgICAgIGRpYWxvZy5zaG93TW9kYWwoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGREaWFsb2dUb0V2ZW50cygpIHtcbiAgICAgICAgY29uc3QgZXZlbnRzID0gdGhpcy5fY2FsZW5kYXIuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnY2FsZW5kYXItZXZlbnQnKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBldmVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gZXZlbnRzW2ldO1xuICAgICAgICAgICAgdGhpcy5fYWRkRGlhbG9nVG9FdmVudChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLkNhbGVuZGFyVUkgPSBDYWxlbmRhclVJO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkluZm9CYXJzVUkgPSB2b2lkIDA7XG5jbGFzcyBJbmZvQmFyc1VJIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5faW5mb0VsZW1lbnRzID0ge1xuICAgICAgICAgICAgaG9zdG5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvLWhvc3RuYW1lJyksXG4gICAgICAgICAgICB2ZXJzaW9uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mby12ZXJzaW9uJyksXG4gICAgICAgICAgICBjbG9jazogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luZm8tY2xvY2snKSxcbiAgICAgICAgICAgIGRhdGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvLWRhdGUnKSxcbiAgICAgICAgICAgIG5ldHdvcmtJY29uOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mby1uZXR3b3JrLWljb24nKSxcbiAgICAgICAgICAgIGRlYnVnOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mby1kZWJ1ZycpLFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9wb3B1bGF0ZUluZm9FbGVtZW50cygpO1xuICAgIH1cbiAgICBzZXREZWJ1Z0luZm8oaW5mbykge1xuICAgICAgICB0aGlzLl9pbmZvRWxlbWVudHMuZGVidWcuaW5uZXJUZXh0ID0gaW5mbztcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhcIkNoYW5nZWQgdGV4dCBpbiBkZWJ1ZyBpbmZvOiBcIiwgaW5mbyk7XG4gICAgfVxuICAgIF9wb3B1bGF0ZUluZm9FbGVtZW50cygpIHtcbiAgICAgICAgdGhpcy5faW5mb0VsZW1lbnRzLmRlYnVnLmlubmVyVGV4dCA9ICcnO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2luZm9FbGVtZW50cy5kZWJ1Zy5pbm5lclRleHQgKz0gZXZlbnQuZXJyb3IgKyAnXFxuJztcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2luZm9FbGVtZW50cy52ZXJzaW9uLmlubmVyVGV4dCA9IHdpbmRvdy5kYXRhLnBrZ05hbWUgKyBcIiB2XCIgKyB3aW5kb3cuZGF0YS5wa2dWZXJzaW9uO1xuICAgICAgICB0aGlzLl9pbmZvRWxlbWVudHMuaG9zdG5hbWUuaW5uZXJUZXh0ID0gd2luZG93LmRhdGEuaG9zdG5hbWU7XG4gICAgICAgIHRoaXMuX3VwZGF0ZUNsb2NrKCk7XG4gICAgICAgIHNldEludGVydmFsKCgpID0+IHRoaXMuX3VwZGF0ZUNsb2NrKCksIDEwMDApO1xuICAgICAgICB0aGlzLl9pbmZvRWxlbWVudHMubmV0d29ya0ljb24uaW5uZXJIVE1MID0gKG5hdmlnYXRvci5vbkxpbmUgPyAnJiMxMjg0MjM7JyA6ICcnKTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29ubGluZScsICgpID0+IHRoaXMuX2luZm9FbGVtZW50cy5uZXR3b3JrSWNvbi5pbm5lckhUTUwgPSAnJiMxMjg0MjM7Jyk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgKCkgPT4gdGhpcy5faW5mb0VsZW1lbnRzLm5ldHdvcmtJY29uLmlubmVySFRNTCA9ICcnKTtcbiAgICB9XG4gICAgX3VwZGF0ZUNsb2NrKCkge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0aGlzLl9pbmZvRWxlbWVudHMuZGF0ZS5pbm5lclRleHQgPSBub3cudG9Mb2NhbGVTdHJpbmcoJ2VuLU5MJywgeyBkYXRlU3R5bGU6ICdtZWRpdW0nIH0pO1xuICAgICAgICB0aGlzLl9pbmZvRWxlbWVudHMuY2xvY2suaW5uZXJUZXh0ID0gbm93LnRvTG9jYWxlU3RyaW5nKCdlbi1OTCcsIHsgdGltZVN0eWxlOiAnbWVkaXVtJyB9KTtcbiAgICB9XG59XG5leHBvcnRzLkluZm9CYXJzVUkgPSBJbmZvQmFyc1VJO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLlVJU2NyZWVuID0gdm9pZCAwO1xuY2xhc3MgVUlTY3JlZW4ge1xuICAgIGNvbnN0cnVjdG9yKGF1dGgpIHtcbiAgICAgICAgdGhpcy5fZm9ybVNob3duID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2F1dGggPSBhdXRoO1xuICAgIH1cbiAgICA7XG4gICAgX2Nvbm5lY3RFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuX2F1dGguYXV0aEV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICB9XG4gICAgX2Rpc2Nvbm5lY3RFdmVudHMoKSB7XG4gICAgICAgIHRoaXMuX2F1dGguYXV0aEV2ZW50cyA9IG51bGw7XG4gICAgfVxuICAgIHNob3dGb3JtKCkge1xuICAgICAgICBpZiAoIXRoaXMuX2Zvcm1TaG93bikge1xuICAgICAgICAgICAgdGhpcy5fZm9ybVNob3duID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm0uZm9ybS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgY29uc3QgaW5wdXRUb0ZvY3VzT24gPSB0aGlzLl9nZXRJbnB1dFRvRm9jdXNPbigpO1xuICAgICAgICAgICAgaWYgKGlucHV0VG9Gb2N1c09uICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRUb0ZvY3VzT24uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2Nvbm5lY3RFdmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBoaWRlRm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2Zvcm1TaG93bikge1xuICAgICAgICAgICAgdGhpcy5fZm9ybVNob3duID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLl9mb3JtLmZvcm0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdGhpcy5fZGlzY29ubmVjdEV2ZW50cygpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBmb3JtU2hvd24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3JtU2hvd247XG4gICAgfVxuICAgIF9kaXNhYmxlRm9ybSgpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIE9iamVjdC52YWx1ZXModGhpcy5fZm9ybSkpIHtcbiAgICAgICAgICAgIGlmIChcImRpc2FibGVkXCIgaW4gZWxlbWVudCAmJiB0eXBlb2YgZWxlbWVudC5kaXNhYmxlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWN0aXZlRWxlbWVudC5ibHVyKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2VuYWJsZUZvcm0oZm9jdXNFbGVtZW50ID0gbnVsbCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgT2JqZWN0LnZhbHVlcyh0aGlzLl9mb3JtKSkge1xuICAgICAgICAgICAgaWYgKFwiZGlzYWJsZWRcIiBpbiBlbGVtZW50ICYmIHR5cGVvZiBlbGVtZW50LmRpc2FibGVkID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZm9jdXNFbGVtZW50ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb2N1c0VsZW1lbnQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuVUlTY3JlZW4gPSBVSVNjcmVlbjtcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5FeGFtTW9kZVVJID0gdm9pZCAwO1xuY29uc3Qgc2NyZWVuXzEgPSByZXF1aXJlKFwiLi4vc2NyZWVuXCIpO1xuY2xhc3MgRXhhbU1vZGVVSSBleHRlbmRzIHNjcmVlbl8xLlVJU2NyZWVuIHtcbiAgICBjb25zdHJ1Y3RvcihhdXRoLCBsb2dpblVJKSB7XG4gICAgICAgIHN1cGVyKGF1dGgpO1xuICAgICAgICB0aGlzLl9leGFtTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9leGFtSWRzID0gW107XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU3RhcnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlRm9ybSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvbkZhaWx1cmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2lnZ2xlUGFzc3dvcmRJbnB1dCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZm9NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fbG9naW5TY3JlZW4gPSBsb2dpblVJO1xuICAgICAgICB0aGlzLl9mb3JtID0ge1xuICAgICAgICAgICAgZm9ybTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW0tZm9ybScpLFxuICAgICAgICAgICAgZXhhbVByb2plY3RzVGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW0tbW9kZS1wcm9qZWN0cycpLFxuICAgICAgICAgICAgZXhhbVN0YXJ0VGV4dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW0tbW9kZS1zdGFydCcpLFxuICAgICAgICAgICAgZXhhbUVuZFRleHQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtLW1vZGUtZW5kJyksXG4gICAgICAgICAgICBsb2dpbklucHV0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbS1sb2dpbicpLFxuICAgICAgICAgICAgcGFzc3dvcmRJbnB1dDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW0tcGFzc3dvcmQnKSxcbiAgICAgICAgICAgIGV4YW1TdGFydEJ1dHRvbjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4YW0tbW9kZS1zdGFydC1idXR0b24nKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdEZvcm0oKTtcbiAgICB9XG4gICAgZW5hYmxlRXhhbU1vZGUoZXhhbXMpIHtcbiAgICAgICAgaWYgKGV4YW1zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cuZGF0YS5leGFtTG9ja1NjcmVlbldhbGxwYXBlcikge1xuICAgICAgICAgICAgbGV0IHdhbGxwYXBlciA9IHdpbmRvdy5kYXRhLmV4YW1Mb2NrU2NyZWVuV2FsbHBhcGVyO1xuICAgICAgICAgICAgbGV0IHN0cmlwZSA9IHdpbmRvdy5kYXRhLmV4YW1TdHJpcGU7XG4gICAgICAgICAgICBpZiAod2FsbHBhcGVyLmV4aXN0cykge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcIicgKyB3YWxscGFwZXIucGF0aCArICdcIiknO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGludHJhQ2FsZW5kYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludHJhLWNhbGVuZGFyXCIpO1xuICAgICAgICAgICAgaWYgKGludHJhQ2FsZW5kYXIpIHtcbiAgICAgICAgICAgICAgICBpbnRyYUNhbGVuZGFyLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdHJpcGUuZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgbGV0IHRvcCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG9wLXN0cmlwZVwiKTtcbiAgICAgICAgICAgICAgICBsZXQgYm90dG9tID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJib3R0b20tc3RyaXBlXCIpO1xuICAgICAgICAgICAgICAgIGlmICh0b3AgJiYgYm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvcC5zdHlsZS5iYWNrZ3JvdW5kID0gJ3VybChcIicgKyBzdHJpcGUucGF0aCArICdcIikgcmVwZWF0LXgnO1xuICAgICAgICAgICAgICAgICAgICBib3R0b20uc3R5bGUuYmFja2dyb3VuZCA9ICd1cmwoXCInICsgc3RyaXBlLnBhdGggKyAnXCIpIHJlcGVhdC14JztcbiAgICAgICAgICAgICAgICAgICAgdG9wLnN0eWxlLmJhY2tncm91bmRTaXplID0gJzE1MHB4JztcbiAgICAgICAgICAgICAgICAgICAgYm90dG9tLnN0eWxlLmJhY2tncm91bmRTaXplID0gJzE1MHB4JztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXhhbU1vZGUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9leGFtSWRzID0gZXhhbXMubWFwKChleGFtKSA9PiBleGFtLmlkKTtcbiAgICAgICAgdGhpcy5fcG9wdWxhdGVEYXRhKGV4YW1zKTtcbiAgICAgICAgdGhpcy5fbG9naW5TY3JlZW4uaGlkZUZvcm0oKTtcbiAgICAgICAgdGhpcy5zaG93Rm9ybSgpO1xuICAgIH1cbiAgICBkaXNhYmxlRXhhbU1vZGUoKSB7XG4gICAgICAgIGxldCB3YWxscGFwZXIgPSB3aW5kb3cuZGF0YS5sb2dpblNjcmVlbldhbGxwYXBlcjtcbiAgICAgICAgaWYgKHdhbGxwYXBlci5leGlzdHMpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcIicgKyB3YWxscGFwZXIucGF0aCArICdcIiknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSAnYmxhY2snO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAnbm9uZSc7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGludHJhQ2FsZW5kYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImludHJhLWNhbGVuZGFyXCIpO1xuICAgICAgICBpZiAoaW50cmFDYWxlbmRhcikge1xuICAgICAgICAgICAgaW50cmFDYWxlbmRhci5zdHlsZS5yZW1vdmVQcm9wZXJ0eShcImRpc3BsYXlcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZXhhbU1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5fZXhhbUlkcyA9IFtdO1xuICAgICAgICB0aGlzLl9wb3B1bGF0ZURhdGEoW10pO1xuICAgICAgICB0aGlzLmhpZGVGb3JtKCk7XG4gICAgICAgIHRoaXMuX2xvZ2luU2NyZWVuLnNob3dGb3JtKCk7XG4gICAgfVxuICAgIGdldCBleGFtTW9kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4YW1Nb2RlO1xuICAgIH1cbiAgICBnZXQgZXhhbUlkcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4YW1JZHM7XG4gICAgfVxuICAgIF9pbml0Rm9ybSgpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMuX2Zvcm07XG4gICAgICAgIGZvcm0uZXhhbVN0YXJ0QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2V4YW1Nb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZvcm0ubG9naW5JbnB1dC52YWx1ZSA9PT0gRXhhbU1vZGVVSS5FWEFNX1VTRVJOQU1FICYmIGZvcm0ucGFzc3dvcmRJbnB1dC52YWx1ZSA9PT0gRXhhbU1vZGVVSS5FWEFNX1BBU1NXT1JEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2F1dGgubG9naW4oRXhhbU1vZGVVSS5FWEFNX1VTRVJOQU1FLCBFeGFtTW9kZVVJLkVYQU1fUEFTU1dPUkQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fd2lnZ2xlUGFzc3dvcmRJbnB1dCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvcm0ubG9naW5JbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlT3JEaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JtLnBhc3N3b3JkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU9yRGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3BvcHVsYXRlRGF0YShleGFtc1RvUG9wdWxhdGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5fZm9ybTtcbiAgICAgICAgaWYgKGV4YW1zVG9Qb3B1bGF0ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZvcm0uZXhhbVByb2plY3RzVGV4dC5pbm5lclRleHQgPSAnJztcbiAgICAgICAgICAgIGZvcm0uZXhhbVN0YXJ0VGV4dC5pbm5lclRleHQgPSAndW5rbm93bic7XG4gICAgICAgICAgICBmb3JtLmV4YW1FbmRUZXh0LmlubmVyVGV4dCA9ICd1bmtub3duJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGV4YW1zID0gKF9hID0gd2luZG93LmRhdGEuZGF0YUpzb24pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5leGFtcy5maWx0ZXIoKGV4YW0pID0+IGV4YW1zVG9Qb3B1bGF0ZS5zb21lKChleGFtVG9Qb3B1bGF0ZSkgPT4gZXhhbS5pZCA9PT0gZXhhbVRvUG9wdWxhdGUuaWQpKTtcbiAgICAgICAgICAgIGlmIChleGFtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIGZpbmQgZXhhbXMgaW4gZGF0YS5qc29uJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LnVpLnNldERlYnVnSW5mbygnRmFpbGVkIHRvIGZpbmQgZXhhbXMgaW4gZGF0YS5qc29uJyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZWFybGllc3RFeGFtID0gZXhhbXMucmVkdWNlKChlYXJsaWVzdCwgZXhhbSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJlZ2luQXQgPSBuZXcgRGF0ZShleGFtLmJlZ2luX2F0KTtcbiAgICAgICAgICAgICAgICBpZiAoZWFybGllc3QgPT09IG51bGwgfHwgYmVnaW5BdCA8IGVhcmxpZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBiZWdpbkF0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gZWFybGllc3Q7XG4gICAgICAgICAgICB9LCBuZXcgRGF0ZShleGFtc1swXS5iZWdpbl9hdCkpO1xuICAgICAgICAgICAgY29uc3QgbGF0ZXN0RXhhbSA9IGV4YW1zLnJlZHVjZSgobGF0ZXN0LCBleGFtKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5kQXQgPSBuZXcgRGF0ZShleGFtLmVuZF9hdCk7XG4gICAgICAgICAgICAgICAgaWYgKGxhdGVzdCA9PT0gbnVsbCB8fCBlbmRBdCA+IGxhdGVzdCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW5kQXQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBsYXRlc3Q7XG4gICAgICAgICAgICB9LCBuZXcgRGF0ZShleGFtc1swXS5lbmRfYXQpKTtcbiAgICAgICAgICAgIGNvbnN0IHByb2plY3RzVGV4dCA9IGV4YW1zLmZsYXRNYXAoKGV4YW0pID0+IGV4YW0ucHJvamVjdHMubWFwKChwcm9qZWN0KSA9PiBwcm9qZWN0Lm5hbWUpKS5qb2luKCcsICcpO1xuICAgICAgICAgICAgZm9ybS5leGFtUHJvamVjdHNUZXh0LmlubmVyVGV4dCA9IHByb2plY3RzVGV4dDtcbiAgICAgICAgICAgIGZvcm0uZXhhbVN0YXJ0VGV4dC5pbm5lclRleHQgPSBlYXJsaWVzdEV4YW0udG9Mb2NhbGVUaW1lU3RyaW5nKFwiZW4tTkxcIiwgeyBob3VyOiAnMi1kaWdpdCcsIG1pbnV0ZTogJzItZGlnaXQnIH0pO1xuICAgICAgICAgICAgZm9ybS5leGFtRW5kVGV4dC5pbm5lclRleHQgPSBsYXRlc3RFeGFtLnRvTG9jYWxlVGltZVN0cmluZyhcImVuLU5MXCIsIHsgaG91cjogJzItZGlnaXQnLCBtaW51dGU6ICcyLWRpZ2l0JyB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZW5hYmxlT3JEaXNhYmxlU3VibWl0QnV0dG9uKCkge1xuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5fZm9ybTtcbiAgICAgICAgZm9ybS5leGFtU3RhcnRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBfd2lnZ2xlUGFzc3dvcmRJbnB1dChjbGVhcklucHV0ID0gdHJ1ZSkge1xuICAgICAgICBjb25zdCBwYXNzd29yZElucHV0ID0gdGhpcy5fZm9ybS5wYXNzd29yZElucHV0O1xuICAgICAgICBwYXNzd29yZElucHV0LmNsYXNzTGlzdC5hZGQoJ3dpZ2dsZScpO1xuICAgICAgICBwYXNzd29yZElucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiB7XG4gICAgICAgICAgICBwYXNzd29yZElucHV0LmNsYXNzTGlzdC5yZW1vdmUoJ3dpZ2dsZScpO1xuICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIGlmIChjbGVhcklucHV0KSB7XG4gICAgICAgICAgICBwYXNzd29yZElucHV0LnZhbHVlID0gXCJcIjtcbiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU9yRGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9nZXRJbnB1dFRvRm9jdXNPbigpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZXhwb3J0cy5FeGFtTW9kZVVJID0gRXhhbU1vZGVVSTtcbkV4YW1Nb2RlVUkuRVhBTV9VU0VSTkFNRSA9ICdleGFtJztcbkV4YW1Nb2RlVUkuRVhBTV9QQVNTV09SRCA9ICdleGFtJztcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Mb2NrU2NyZWVuVUkgPSB2b2lkIDA7XG5jb25zdCBzY3JlZW5fMSA9IHJlcXVpcmUoXCIuLi9zY3JlZW5cIik7XG5jb25zdCB1aV8xID0gcmVxdWlyZShcIi4uLy4uL3VpXCIpO1xuY29uc3QgUEFUSF9MT0NLX1RJTUVTVEFNUF9QUkVGSVggPSAnL3RtcC9jb2RhbV93ZWJfZ3JlZXRlcl9sb2NrX3RpbWVzdGFtcCc7XG5jbGFzcyBMb2NrU2NyZWVuVUkgZXh0ZW5kcyBzY3JlZW5fMS5VSVNjcmVlbiB7XG4gICAgY29uc3RydWN0b3IoYXV0aCwgYWN0aXZlU2Vzc2lvbikge1xuICAgICAgICBzdXBlcihhdXRoKTtcbiAgICAgICAgdGhpcy5faXNFeGFtTW9kZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9sb2NrZWRUaW1lID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0ge1xuICAgICAgICAgICAgYXV0aGVudGljYXRpb25TdGFydDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2Rpc2FibGVGb3JtKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXV0aGVudGljYXRpb25Db21wbGV0ZTogKCkgPT4ge1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uRmFpbHVyZTogKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZUZvcm0oKTtcbiAgICAgICAgICAgICAgICB0aGlzLl93aWdnbGVQYXNzd29yZElucHV0KCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy51aS5zZXREZWJ1Z0luZm8obWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW5mb01lc3NhZ2U6IChtZXNzYWdlKSA9PiB7XG4gICAgICAgICAgICAgICAgYWxlcnQobWVzc2FnZSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9hY3RpdmVTZXNzaW9uID0gYWN0aXZlU2Vzc2lvbjtcbiAgICAgICAgdGhpcy5fZm9ybSA9IHtcbiAgICAgICAgICAgIGZvcm06IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2NrLWZvcm0nKSxcbiAgICAgICAgICAgIGF2YXRhcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGl2ZS11c2VyLXNlc3Npb24tYXZhdGFyJyksXG4gICAgICAgICAgICBkaXNwbGF5TmFtZTogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdGl2ZS11c2VyLXNlc3Npb24tZGlzcGxheS1uYW1lJyksXG4gICAgICAgICAgICBsb2dpbk5hbWU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3RpdmUtdXNlci1zZXNzaW9uLWxvZ2luLW5hbWUnKSxcbiAgICAgICAgICAgIGxvY2tlZFRpbWVBZ286IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3RpdmUtdXNlci1zZXNzaW9uLWxvY2tlZC1hZ28nKSxcbiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3RpdmUtdXNlci1zZXNzaW9uLXBhc3N3b3JkJyksXG4gICAgICAgICAgICB1bmxvY2tCdXR0b246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmxvY2stYnV0dG9uJyksXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuX2luaXRGb3JtKCk7XG4gICAgICAgIHNldEludGVydmFsKHRoaXMuX2dldEFuZFNldExvY2tlZFRpbWVzdGFtcC5iaW5kKHRoaXMpLCA2MDAwMCk7XG4gICAgICAgIHRoaXMuX2dldEFuZFNldExvY2tlZFRpbWVzdGFtcCgpO1xuICAgIH1cbiAgICBfaW5pdEZvcm0oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMuX2Zvcm07XG4gICAgICAgIGlmICh0aGlzLl9hY3RpdmVTZXNzaW9uLnVzZXJuYW1lID09PSBcImV4YW1cIikge1xuICAgICAgICAgICAgdGhpcy5faXNFeGFtTW9kZSA9IHRydWU7XG4gICAgICAgICAgICBmb3JtLmF2YXRhci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgICAgICBmb3JtLmRpc3BsYXlOYW1lLmlubmVyVGV4dCA9IFwiRXhhbSBpbiBwcm9ncmVzc1wiO1xuICAgICAgICAgICAgZm9ybS5sb2dpbk5hbWUuaW5uZXJUZXh0ID0gXCJDbGljayB0aGUgYXJyb3cgYmVsb3cgdG8gcmVzdW1lIHlvdXIgZXhhbS5cIjtcbiAgICAgICAgICAgIGZvcm0ubG9naW5OYW1lLnN0eWxlLm1hcmdpblRvcCA9IHVpXzEuVUkuZ2V0UGFkZGluZygpO1xuICAgICAgICAgICAgZm9ybS5wYXNzd29yZElucHV0LnZhbHVlID0gXCJleGFtXCI7XG4gICAgICAgICAgICBmb3JtLnBhc3N3b3JkSW5wdXQuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlT3JEaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3JtLmF2YXRhci5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEZhaWxlZCB0byBsb2FkIGF2YXRhciBmb3IgdXNlciAke3RoaXMuX2FjdGl2ZVNlc3Npb24udXNlcm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgZm9ybS5hdmF0YXIuc3JjID0gXCJhc3NldHMvZGVmYXVsdC11c2VyLnBuZ1wiO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAod2luZG93LmRhdGEudXNlckltYWdlLmV4aXN0cykge1xuICAgICAgICAgICAgICAgIGZvcm0uYXZhdGFyLnNyYyA9IHdpbmRvdy5kYXRhLnVzZXJJbWFnZS5wYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5fYWN0aXZlU2Vzc2lvbi5pbWFnZSkge1xuICAgICAgICAgICAgICAgIGZvcm0uYXZhdGFyLnNyYyA9IHRoaXMuX2FjdGl2ZVNlc3Npb24uaW1hZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh3aW5kb3cuZGF0YS51c2VyRGVmYXVsdEltYWdlLmV4aXN0cykge1xuICAgICAgICAgICAgICAgIGZvcm0uYXZhdGFyLnNyYyA9IHdpbmRvdy5kYXRhLnVzZXJEZWZhdWx0SW1hZ2UucGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvcm0uZGlzcGxheU5hbWUuaW5uZXJUZXh0ID0gKF9hID0gdGhpcy5fYWN0aXZlU2Vzc2lvbi5kaXNwbGF5X25hbWUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRoaXMuX2FjdGl2ZVNlc3Npb24udXNlcm5hbWU7XG4gICAgICAgICAgICBmb3JtLmxvZ2luTmFtZS5pbm5lclRleHQgPSB0aGlzLl9hY3RpdmVTZXNzaW9uLnVzZXJuYW1lO1xuICAgICAgICB9XG4gICAgICAgIHNldEludGVydmFsKHRoaXMuX2xvY2tlZFRpbWVyLmJpbmQodGhpcyksIDEwMDAwKTtcbiAgICAgICAgZm9ybS5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2F1dGgubG9naW4odGhpcy5fYWN0aXZlU2Vzc2lvbi51c2VybmFtZSwgZm9ybS5wYXNzd29yZElucHV0LnZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGZvcm0ucGFzc3dvcmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX2VuYWJsZU9yRGlzYWJsZVN1Ym1pdEJ1dHRvbigpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2VuYWJsZU9yRGlzYWJsZVN1Ym1pdEJ1dHRvbigpIHtcbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMuX2Zvcm07XG4gICAgICAgIGNvbnN0IGJ1dHRvbkRpc2FibGVkID0gZm9ybS5wYXNzd29yZElucHV0LnZhbHVlID09PSBcIlwiICYmIHRoaXMuX2lzRXhhbU1vZGUgPT09IGZhbHNlO1xuICAgICAgICBmb3JtLnVubG9ja0J1dHRvbi5kaXNhYmxlZCA9IGJ1dHRvbkRpc2FibGVkO1xuICAgICAgICByZXR1cm4gYnV0dG9uRGlzYWJsZWQ7XG4gICAgfVxuICAgIF93aWdnbGVQYXNzd29yZElucHV0KGNsZWFySW5wdXQgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHBhc3N3b3JkSW5wdXQgPSB0aGlzLl9mb3JtLnBhc3N3b3JkSW5wdXQ7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQuY2xhc3NMaXN0LmFkZCgnd2lnZ2xlJyk7XG4gICAgICAgIHBhc3N3b3JkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsICgpID0+IHtcbiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQuY2xhc3NMaXN0LnJlbW92ZSgnd2lnZ2xlJyk7XG4gICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKGNsZWFySW5wdXQpIHtcbiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlT3JEaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2dldElucHV0VG9Gb2N1c09uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9ybS5wYXNzd29yZElucHV0O1xuICAgIH1cbiAgICBnZXQgbG9ja2VkVGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2tlZFRpbWU7XG4gICAgfVxuICAgIF9nZXRTY3JlZW5Mb2NrZWRUaW1lc3RhbXAobG9naW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGZldGNoKGAke1BBVEhfTE9DS19USU1FU1RBTVBfUFJFRklYfV8ke2xvZ2lufWApXG4gICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UudGV4dCgpKVxuICAgICAgICAgICAgICAgIC50aGVuKHRleHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IHRleHQuc3BsaXQoJyAnKVswXTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKG5ldyBEYXRlKHBhcnNlSW50KHRpbWVzdGFtcCkgKiAxMDAwKSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5jYXRjaCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9nZXRBbmRTZXRMb2NrZWRUaW1lc3RhbXAoKSB7XG4gICAgICAgIHRoaXMuX2dldFNjcmVlbkxvY2tlZFRpbWVzdGFtcCh0aGlzLl9hY3RpdmVTZXNzaW9uLnVzZXJuYW1lKVxuICAgICAgICAgICAgLnRoZW4oKHRpbWVzdGFtcCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9ja2VkVGltZSA9IHRpbWVzdGFtcDtcbiAgICAgICAgICAgIHRoaXMuX2xvY2tlZFRpbWVyKCk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbG9ja2VkVGltZSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfbG9ja2VkVGltZXIoKSB7XG4gICAgICAgIGlmICghdGhpcy5fbG9ja2VkVGltZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxvZ291dEFmdGVyID0gNDI7XG4gICAgICAgIGNvbnN0IGxvY2tlZE1pbnV0ZXNBZ28gPSAoRGF0ZS5ub3coKSAtIHRoaXMuX2xvY2tlZFRpbWUuZ2V0VGltZSgpKSAvIDEwMDAgLyA2MDtcbiAgICAgICAgY29uc3QgdGltZVJlbWFpbmluZyA9IGxvZ291dEFmdGVyIC0gbG9ja2VkTWludXRlc0FnbztcbiAgICAgICAgaWYgKHRpbWVSZW1haW5pbmcgPD0gMC4yNSkge1xuICAgICAgICAgICAgdGhpcy5fZGlzYWJsZUZvcm0oKTtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm0ubG9ja2VkVGltZUFnby5pbm5lclRleHQgPSBcIkF1dG9tYXRlZCBsb2dvdXQgaW4gcHJvZ3Jlc3MuLi5cIjtcbiAgICAgICAgICAgIGlmICh0aW1lUmVtYWluaW5nIDwgLTUpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKFwiQXV0b21hdGVkIGxvZ291dCBhcHBlYXJzIHRvIHRha2UgYSB3aGlsZS4gSXMgdGhlIHN5c3RlbWQgaWRsaW5nIHNlcnZpY2UgZnJvbSBjb2RhbS13ZWItZ3JlZXRlciBpbnN0YWxsZWQgYW5kIGVuYWJsZWQ/XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VuYWJsZUZvcm0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGZsb29yZWRUaW1lID0gTWF0aC5mbG9vcih0aW1lUmVtYWluaW5nKTtcbiAgICAgICAgICAgIHRoaXMuX2Zvcm0ubG9ja2VkVGltZUFnby5pbm5lclRleHQgPSBcIkF1dG9tYXRlZCBsb2dvdXQgb2NjdXJzIGluIFwiICsgZmxvb3JlZFRpbWUudG9TdHJpbmcoKSArIFwiIG1pbnV0ZVwiICsgKGZsb29yZWRUaW1lID09PSAxID8gXCJcIiA6IFwic1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuTG9ja1NjcmVlblVJID0gTG9ja1NjcmVlblVJO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLkxvZ2luU2NyZWVuVUkgPSB2b2lkIDA7XG5jb25zdCBzY3JlZW5fMSA9IHJlcXVpcmUoXCIuLi9zY3JlZW5cIik7XG5jbGFzcyBMb2dpblNjcmVlblVJIGV4dGVuZHMgc2NyZWVuXzEuVUlTY3JlZW4ge1xuICAgIGNvbnN0cnVjdG9yKGF1dGgpIHtcbiAgICAgICAgc3VwZXIoYXV0aCk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IHtcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uU3RhcnQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9kaXNhYmxlRm9ybSgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF1dGhlbnRpY2F0aW9uQ29tcGxldGU6ICgpID0+IHtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRoZW50aWNhdGlvbkZhaWx1cmU6ICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmFibGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fd2lnZ2xlUGFzc3dvcmRJbnB1dCgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogKG1lc3NhZ2UpID0+IHtcbiAgICAgICAgICAgICAgICBhbGVydChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cudWkuc2V0RGVidWdJbmZvKG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluZm9NZXNzYWdlOiAobWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFsZXJ0KG1lc3NhZ2UpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5fZm9ybSA9IHtcbiAgICAgICAgICAgIGZvcm06IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1mb3JtJyksXG4gICAgICAgICAgICBsb2dpbklucHV0OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbG9naW4nKSxcbiAgICAgICAgICAgIHBhc3N3b3JkSW5wdXQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZCcpLFxuICAgICAgICAgICAgbG9naW5CdXR0b246IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2dpbi1idXR0b24nKSxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faW5pdEZvcm0oKTtcbiAgICB9XG4gICAgX2luaXRGb3JtKCkge1xuICAgICAgICBjb25zdCBmb3JtID0gdGhpcy5fZm9ybTtcbiAgICAgICAgdGhpcy5fZm9ybS5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuX2F1dGgubG9naW4oZm9ybS5sb2dpbklucHV0LnZhbHVlLCBmb3JtLnBhc3N3b3JkSW5wdXQudmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgZm9ybS5sb2dpbklucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZW5hYmxlT3JEaXNhYmxlU3VibWl0QnV0dG9uKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JtLnBhc3N3b3JkSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVPckRpc2FibGVTdWJtaXRCdXR0b24oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9lbmFibGVPckRpc2FibGVTdWJtaXRCdXR0b24oKSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9mb3JtO1xuICAgICAgICBjb25zdCBidXR0b25EaXNhYmxlZCA9IGZvcm0ubG9naW5JbnB1dC52YWx1ZS50cmltKCkgPT09IFwiXCIgfHwgZm9ybS5wYXNzd29yZElucHV0LnZhbHVlID09PSBcIlwiO1xuICAgICAgICBmb3JtLmxvZ2luQnV0dG9uLmRpc2FibGVkID0gYnV0dG9uRGlzYWJsZWQ7XG4gICAgICAgIHJldHVybiBidXR0b25EaXNhYmxlZDtcbiAgICB9XG4gICAgX3dpZ2dsZVBhc3N3b3JkSW5wdXQoY2xlYXJJbnB1dCA9IHRydWUpIHtcbiAgICAgICAgY29uc3QgcGFzc3dvcmRJbnB1dCA9IHRoaXMuX2Zvcm0ucGFzc3dvcmRJbnB1dDtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5jbGFzc0xpc3QuYWRkKCd3aWdnbGUnKTtcbiAgICAgICAgcGFzc3dvcmRJbnB1dC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKCkgPT4ge1xuICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC5jbGFzc0xpc3QucmVtb3ZlKCd3aWdnbGUnKTtcbiAgICAgICAgfSwgeyBvbmNlOiB0cnVlIH0pO1xuICAgICAgICBpZiAoY2xlYXJJbnB1dCkge1xuICAgICAgICAgICAgcGFzc3dvcmRJbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgICAgICAgICBwYXNzd29yZElucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICB0aGlzLl9lbmFibGVPckRpc2FibGVTdWJtaXRCdXR0b24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZ2V0SW5wdXRUb0ZvY3VzT24oKSB7XG4gICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLl9mb3JtO1xuICAgICAgICBpZiAoZm9ybS5sb2dpbklucHV0LnZhbHVlLnRyaW0oKSA9PT0gXCJcIikge1xuICAgICAgICAgICAgcmV0dXJuIGZvcm0ubG9naW5JbnB1dDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm9ybS5wYXNzd29yZElucHV0O1xuICAgIH1cbn1cbmV4cG9ydHMuTG9naW5TY3JlZW5VSSA9IExvZ2luU2NyZWVuVUk7XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuV2FsbHBhcGVyVUkgPSB2b2lkIDA7XG5jbGFzcyBXYWxscGFwZXJVSSB7XG4gICAgY29uc3RydWN0b3IoaXNMb2NrU2NyZWVuLCB3YWxscGFwZXJFbGVtZW50ID0gbnVsbCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gd2FsbHBhcGVyRWxlbWVudCAhPT0gbnVsbCAmJiB3YWxscGFwZXJFbGVtZW50ICE9PSB2b2lkIDAgPyB3YWxscGFwZXJFbGVtZW50IDogZG9jdW1lbnQuYm9keTtcbiAgICAgICAgdGhpcy5fYmx1ckZpbHRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdibHVyLWZpbHRlcicpO1xuICAgICAgICB0aGlzLl9pc0xvY2tTY3JlZW4gPSBpc0xvY2tTY3JlZW47XG4gICAgICAgIHRoaXMuZGlzcGxheVdhbGxwYXBlcigpO1xuICAgIH1cbiAgICBkaXNwbGF5V2FsbHBhcGVyKCkge1xuICAgICAgICBsZXQgd2FsbHBhcGVyID0gd2luZG93LmRhdGEubG9naW5TY3JlZW5XYWxscGFwZXI7XG4gICAgICAgIGlmICh0aGlzLl9pc0xvY2tTY3JlZW4pIHtcbiAgICAgICAgICAgIHRoaXMuX2JsdXJGaWx0ZXIuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICBpZiAod2luZG93LmRhdGEudXNlckxvY2tTY3JlZW5XYWxscGFwZXIuZXhpc3RzKSB7XG4gICAgICAgICAgICAgICAgd2FsbHBhcGVyID0gd2luZG93LmRhdGEudXNlckxvY2tTY3JlZW5XYWxscGFwZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHdhbGxwYXBlci5leGlzdHMpIHtcbiAgICAgICAgICAgIHRoaXMuX2VsZW1lbnQuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybChcIicgKyB3YWxscGFwZXIucGF0aCArICdcIiknO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZWxlbWVudC5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0aGlzLl9lbGVtZW50KS5nZXRQcm9wZXJ0eVZhbHVlKCctLWRlZmF1bHQtYmctaW1nJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuZXhwb3J0cy5XYWxscGFwZXJVSSA9IFdhbGxwYXBlclVJO1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oODApO1xuIl0sIm5hbWVzIjpbImxpZ2h0ZG0iLCJ3aW5kb3ciLCJncmVldGVyX2NvbmZpZyIsInRoZW1lX3V0aWxzIiwiZ3JlZXRlcl9jb21tIiwiX3JlYWR5X2V2ZW50IiwiTGlnaHRETVByb21wdFR5cGUiLCJRdWVzdGlvbiIsIlNlY3JldCIsIkxpZ2h0RE1NZXNzYWdlVHlwZSIsIkluZm8iLCJFcnJvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiQXV0aGVudGljYXRvciIsImluZGV4XzEiLCJjb25zdHJ1Y3RvciIsInRoaXMiLCJfYXV0aGVudGljYXRpbmciLCJfYXV0aGVudGljYXRlZCIsIl9hdXRoRXZlbnRzIiwiX3VzZXJuYW1lIiwiX3Bhc3N3b3JkIiwiX3Nlc3Npb24iLCJfaW5pdExpZ2h0RE1MaXN0ZW5lcnMiLCJzaG93X3Byb21wdCIsImNvbm5lY3QiLCJtZXNzYWdlIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciLCJyZXNwb25kIiwiZXJyb3IiLCJlcnIiLCJlcnJvck1lc3NhZ2UiLCJTdHJpbmciLCJzaG93X21lc3NhZ2UiLCJpbmZvTWVzc2FnZSIsIndhcm4iLCJhdXRoZW50aWNhdGlvbl9jb21wbGV0ZSIsIl9hIiwiaXNfYXV0aGVudGljYXRlZCIsImF1dGhlbnRpY2F0aW9uQ29tcGxldGUiLCJzdGFydF9zZXNzaW9uIiwiX3N0b3BBdXRoZW50aWNhdGlvbiIsImF1dGhlbnRpY2F0aW9uRmFpbHVyZSIsImF1dGhlbnRpY2F0aW5nIiwiYXV0aGVudGljYXRlZCIsInVzZXJuYW1lIiwiYXV0aEV2ZW50cyIsIl9jbGVhckF1dGgiLCJjYW5jZWxfYXV0aGVudGljYXRpb24iLCJfc3RhcnRBdXRoZW50aWNhdGlvbiIsImF1dGhlbnRpY2F0ZSIsImxvZ2luIiwicGFzc3dvcmQiLCJzdWJzdHJpbmciLCJNQVhfTEVOX1VTRVJOQU1FIiwidHJpbSIsIk1BWF9MRU5fUEFTU1dPUkQiLCJhdXRoZW50aWNhdGlvblN0YXJ0IiwiX19pbXBvcnREZWZhdWx0IiwibW9kIiwiX19lc01vZHVsZSIsIkRhdGEiLCJHcmVldGVySW1hZ2UiLCJwYWNrYWdlX2pzb25fMSIsInBhdGgiLCJfcGF0aCIsImRpciIsInNwbGl0Iiwic2xpY2UiLCJqb2luIiwiZGlyRmlsZXMiLCJkaXJsaXN0X3N5bmMiLCJfZXhpc3RzIiwidW5kZWZpbmVkIiwiaW5jbHVkZXMiLCJleGlzdHMiLCJfZGF0YUpzb25GZXRjaEludGVydmFsIiwiX2RhdGFDaGFuZ2VMaXN0ZW5lcnMiLCJwa2dOYW1lIiwiZGVmYXVsdCIsIm5hbWUiLCJwa2dWZXJzaW9uIiwidmVyc2lvbiIsImhvc3RuYW1lIiwibG9naW5TY3JlZW5XYWxscGFwZXIiLCJ1c2VyTG9ja1NjcmVlbldhbGxwYXBlciIsImV4YW1Mb2NrU2NyZWVuV2FsbHBhcGVyIiwiZXhhbVN0cmlwZSIsImxvZ28iLCJ1c2VySW1hZ2UiLCJ1c2VyRGVmYXVsdEltYWdlIiwic2V0SW50ZXJ2YWwiLCJfcmVmZXRjaERhdGFKc29uIiwiZXhhbVRvRXZlbnQiLCJleGFtIiwiZGVzYyIsInByb2plY3RzIiwibWFwIiwiYyIsImlkIiwiZGVzY3JpcHRpb24iLCJsb2NhdGlvbiIsImtpbmQiLCJtYXhfcGVvcGxlIiwibmJyX3N1YnNjcmliZXJzIiwiYmVnaW5fYXQiLCJlbmRfYXQiLCJjYW1wdXNfaWRzIiwiY3Vyc3VzX2lkcyIsImN1cnN1cyIsImNyZWF0ZWRfYXQiLCJ1cGRhdGVkX2F0IiwiYWRkRGF0YUNoYW5nZUxpc3RlbmVyIiwibGlzdGVuZXIiLCJwdXNoIiwicmVtb3ZlRGF0YUNoYW5nZUxpc3RlbmVyIiwiZmlsdGVyIiwibCIsImRhdGFKc29uIiwiX2RhdGFKc29uIiwiZmV0Y2giLCJ0aGVuIiwicmVzcG9uc2UiLCJqc29uIiwiZGF0YSIsInVpIiwic2V0RGVidWdJbmZvIiwiY2F0Y2giLCJJZGxlciIsImlzTG9ja1NjcmVlbiIsIl9pZGxlIiwiX2xhc3RBY3Rpdml0eSIsIkRhdGUiLCJub3ciLCJfaWRsZUFmdGVyIiwiX3Rha2VBY3Rpb25BZnRlciIsIl9pc0xvY2tTY3JlZW4iLCJhZGRFdmVudExpc3RlbmVyIiwiX3VuaWRsZSIsImJpbmQiLCJfY2hlY2tJZGxlIiwiaWRsZUFmdGVyIiwiaWRsZSIsIl9hY3Rpb24iLCJfY2hlY2tJZkFjdGlvbk5lZWRlZCIsIl9fYXdhaXRlciIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwic3RlcCIsIm5leHQiLCJlIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJkb25lIiwiYXBwbHkiLCJkYXRhXzEiLCJ1aV8xIiwiYXV0aF8xIiwiaWRsZXJfMSIsInNsZWVwIiwibXMiLCJzZXRUaW1lb3V0IiwicmVzdGFydENvbXB1dGVyIiwiX2IiLCJjYW5fcmVzdGFydCIsInJlc3RhcnQiLCJicmlnaHRuZXNzIiwiZGVjcmVhc2UiLCJjYW5fYWNjZXNzX2JyaWdodG5lc3MiLCJicmlnaHRuZXNzX2RlY3JlYXNlIiwiaW5jcmVhc2UiLCJicmlnaHRuZXNzX2luY3JlYXNlIiwiYXV0aCIsIlVJIiwiaWRsZXIiLCJkZWJ1Z0tleXMiLCJkb2N1bWVudCIsImlzUGFzc3dvcmRJbnB1dCIsImFjdGl2ZUVsZW1lbnQiLCJ0YWdOYW1lIiwiZ2V0QXR0cmlidXRlIiwiY29kZSIsImtleSIsImN0cmxLZXkiLCJhbHRLZXkiLCJzaGlmdEtleSIsIm1ldGFLZXkiLCJvdmVycmlkZUV4YW1Nb2RlIiwiaW5pdEdyZWV0ZXIiLCJpbmZvYmFyc18xIiwibG9ja3NjcmVlbl8xIiwibG9naW5zY3JlZW5fMSIsIm5vZHlfZ3JlZXRlcl90eXBlc18xIiwid2FsbHBhcGVyXzEiLCJjYWxlbmRhcl8xIiwiZXhhbXNjcmVlbl8xIiwiX2xvY2tTY3JlZW4iLCJfbG9naW5TY3JlZW4iLCJfZXhhbU1vZGVTY3JlZW4iLCJfZXhhbU1vZGVEaXNhYmxlZCIsIl9zY2FsaW5nRmFjdG9yIiwiX2luZm9CYXJzIiwiSW5mb0JhcnNVSSIsIl9sb2dvIiwiZ2V0RWxlbWVudEJ5SWQiLCJfbWVzc2FnZSIsImFwcGx5SGlEcGlTY2FsaW5nIiwic3JjIiwiYWN0aXZlU2Vzc2lvbiIsInVzZXJzIiwiZmluZCIsInVzZXIiLCJsb2dnZWRfaW4iLCJMb2NrU2NyZWVuVUkiLCJzdHlsZSIsImRpc3BsYXkiLCJzaG93Rm9ybSIsIkxvZ2luU2NyZWVuVUkiLCJFeGFtTW9kZVVJIiwiY2hlY2tGb3JFeGFtTW9kZSIsIkVYQU1fTU9ERV9DSEVDS19JTlRFUlZBTCIsInNldE1lc3NhZ2UiLCJfd2FsbHBhcGVyIiwiV2FsbHBhcGVyVUkiLCJfY2FsZW5kYXIiLCJDYWxlbmRhclVJIiwiaW5mbyIsInJlcGxhY2UiLCJpbm5lckhUTUwiLCJnZXRNZXNzYWdlIiwiaW5uZXJUZXh0IiwiX2MiLCJfZCIsIl9lIiwiX2YiLCJoaWRlRm9ybSIsIm9uZ29pbmdFeGFtcyIsImV4YW1zX2Zvcl9ob3N0IiwiYmVnaW5BdCIsImJlZ2luRXhhbU1vZGVBdCIsImdldFRpbWUiLCJTSE9XX0VYQU1fTU9ERV9NSU5VVEVTX0JFRk9SRV9CRUdJTiIsImVuZEF0IiwibGVuZ3RoIiwiZXhhbU1vZGUiLCJzb21lIiwiZXhhbUlkcyIsImVuYWJsZUV4YW1Nb2RlIiwiZGlzYWJsZUV4YW1Nb2RlIiwiZ2V0UGFkZGluZyIsImVsZW1lbnQiLCJib2R5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJzZXRQcmltYXJ5VGhlbWVDb2xvciIsImNvbG9yIiwicm9vdCIsImRvY3VtZW50RWxlbWVudCIsInNldFByb3BlcnR5IiwiZ2V0UHJpbWFyeVRoZW1lQ29sb3IiLCJzY2FsaW5nRmFjdG9yIiwib3V0ZXJXaWR0aCIsImRldmljZVBpeGVsUmF0aW8iLCJwaXhlbFJhdGlvIiwiem9vbSIsImRhdGFIb2xkZXIiLCJwb3B1bGF0ZUNhbGVuZGFyIiwiX2VzdGltYXRlRHVyYXRpb24iLCJkdXJhdGlvbiIsImRheXMiLCJNYXRoIiwiZmxvb3IiLCJob3VycyIsIm1pbnV0ZXMiLCJfcmVtb3ZlTWFya2Rvd25TeW50YXgiLCJ0ZXh0IiwiX2V2ZW50Rml0c09uU2NyZWVuIiwiZXZlbnRFbGVtZW50IiwiYXZhaWxhYmxlV2luZG93SGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJpbmZvQmFySGVpZ2h0IiwicGFyc2VJbnQiLCJjYWxlbmRhckhlaWdodCIsImNsaWVudEhlaWdodCIsImV2ZW50SGVpZ2h0IiwiZXZlbnRNYXJnaW4iLCJyZXF1aXJlZFNwYWNlIiwic3BhY2VMZWZ0IiwiZGVidWciLCJkYXRhSlNPTiIsIl9kZXN0cm95QWxsRXZlbnRzIiwiZXZlbnRzRm9yQ2FsZW5kYXIiLCJldmVudCIsImV2ZW50cyIsIl9jcmVhdGVFdmVudEVsZW1lbnQiLCJleGFtcyIsInNvcnQiLCJhIiwiYiIsImFwcGVuZENoaWxkIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsInJlbW92ZSIsImJlZ2luRGF0ZSIsImVuZERhdGUiLCJjYWxlbmRhckV2ZW50IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsInNldEF0dHJpYnV0ZSIsInRvTG93ZXJDYXNlIiwidG9TdHJpbmciLCJjYWxlbmRhckV2ZW50RGF0ZSIsImNhbGVuZGFyRXZlbnREYXRlRGF5IiwidG9Mb2NhbGVTdHJpbmciLCJ3ZWVrZGF5IiwiY2FsZW5kYXJFdmVudERhdGVEYXRlIiwiZGF5IiwiY2FsZW5kYXJFdmVudERhdGVNb250aCIsIm1vbnRoIiwiY2FsZW5kYXJFdmVudFdyYXBwZXIiLCJjYWxlbmRhckV2ZW50VGl0bGUiLCJjYWxlbmRhckV2ZW50RGVzYyIsImNhbGVuZGFyRXZlbnREZXRhaWxzIiwiY2FsZW5kYXJFdmVudFRpbWUiLCJ0aW1lU3R5bGUiLCJjYWxlbmRhckV2ZW50RHVyYXRpb24iLCJjYWxlbmRhckV2ZW50U3BvdHMiLCJjYWxlbmRhckV2ZW50TG9jYXRpb24iLCJfYWRkRGlhbG9nVG9FdmVudCIsImRpYWxvZyIsImRpYWxvZ0Nsb3NlQnV0dG9uIiwiZGlhbG9nQ29udGVudHMiLCJjaGlsZCIsImNoaWxkcmVuIiwiY2xvbmVOb2RlIiwiZXYiLCJzdG9wUHJvcGFnYXRpb24iLCJjbG9zZSIsInNob3dNb2RhbCIsIl9hZGREaWFsb2dUb0V2ZW50cyIsImkiLCJfaW5mb0VsZW1lbnRzIiwiY2xvY2siLCJkYXRlIiwibmV0d29ya0ljb24iLCJfcG9wdWxhdGVJbmZvRWxlbWVudHMiLCJfdXBkYXRlQ2xvY2siLCJuYXZpZ2F0b3IiLCJvbkxpbmUiLCJkYXRlU3R5bGUiLCJVSVNjcmVlbiIsIl9mb3JtU2hvd24iLCJfYXV0aCIsIl9jb25uZWN0RXZlbnRzIiwiX2V2ZW50cyIsIl9kaXNjb25uZWN0RXZlbnRzIiwiX2Zvcm0iLCJmb3JtIiwiaW5wdXRUb0ZvY3VzT24iLCJfZ2V0SW5wdXRUb0ZvY3VzT24iLCJmb2N1cyIsImZvcm1TaG93biIsIl9kaXNhYmxlRm9ybSIsInZhbHVlcyIsImRpc2FibGVkIiwiYmx1ciIsIl9lbmFibGVGb3JtIiwiZm9jdXNFbGVtZW50Iiwic2NyZWVuXzEiLCJsb2dpblVJIiwic3VwZXIiLCJfZXhhbU1vZGUiLCJfZXhhbUlkcyIsIl93aWdnbGVQYXNzd29yZElucHV0IiwiYWxlcnQiLCJleGFtUHJvamVjdHNUZXh0IiwiZXhhbVN0YXJ0VGV4dCIsImV4YW1FbmRUZXh0IiwibG9naW5JbnB1dCIsInBhc3N3b3JkSW5wdXQiLCJleGFtU3RhcnRCdXR0b24iLCJfaW5pdEZvcm0iLCJ3YWxscGFwZXIiLCJzdHJpcGUiLCJiYWNrZ3JvdW5kSW1hZ2UiLCJpbnRyYUNhbGVuZGFyIiwidG9wIiwiYm90dG9tIiwiYmFja2dyb3VuZCIsImJhY2tncm91bmRTaXplIiwiX3BvcHVsYXRlRGF0YSIsImJhY2tncm91bmRDb2xvciIsInJlbW92ZVByb3BlcnR5IiwicHJldmVudERlZmF1bHQiLCJFWEFNX1VTRVJOQU1FIiwiRVhBTV9QQVNTV09SRCIsIl9lbmFibGVPckRpc2FibGVTdWJtaXRCdXR0b24iLCJleGFtc1RvUG9wdWxhdGUiLCJleGFtVG9Qb3B1bGF0ZSIsImVhcmxpZXN0RXhhbSIsInJlZHVjZSIsImVhcmxpZXN0IiwibGF0ZXN0RXhhbSIsImxhdGVzdCIsInByb2plY3RzVGV4dCIsImZsYXRNYXAiLCJwcm9qZWN0IiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwiaG91ciIsIm1pbnV0ZSIsImNsZWFySW5wdXQiLCJvbmNlIiwiX2lzRXhhbU1vZGUiLCJfbG9ja2VkVGltZSIsIl9hY3RpdmVTZXNzaW9uIiwiYXZhdGFyIiwiZGlzcGxheU5hbWUiLCJsb2dpbk5hbWUiLCJsb2NrZWRUaW1lQWdvIiwidW5sb2NrQnV0dG9uIiwiX2dldEFuZFNldExvY2tlZFRpbWVzdGFtcCIsIm1hcmdpblRvcCIsImltYWdlIiwiZGlzcGxheV9uYW1lIiwiX2xvY2tlZFRpbWVyIiwiYnV0dG9uRGlzYWJsZWQiLCJsb2NrZWRUaW1lIiwiX2dldFNjcmVlbkxvY2tlZFRpbWVzdGFtcCIsInRpbWVzdGFtcCIsInRpbWVSZW1haW5pbmciLCJmbG9vcmVkVGltZSIsImxvZ2luQnV0dG9uIiwid2FsbHBhcGVyRWxlbWVudCIsIl9lbGVtZW50IiwiX2JsdXJGaWx0ZXIiLCJkaXNwbGF5V2FsbHBhcGVyIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJkIiwiZGVmaW5pdGlvbiIsIm8iLCJlbnVtZXJhYmxlIiwiZ2V0Iiwib2JqIiwicHJvcCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==